<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.a1cc3dd5e2898be4a985.css" id="gatsby-global-css">.mermaid{text-align:center;line-height:20px}.gatsby-highlight-code-line{background-color:#feb;display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:.75em;border-left:.25em solid #f99}.gatsby-highlight pre[class*=language-]{background-color:transparent;margin:0;padding:0;overflow:initial;float:left;min-width:100%}.gatsby-highlight pre[class*=language-].line-numbers{padding-left:2.8em}.gatsby-highlight{background-color:#fdf6e3;border-radius:.3em;margin:.5em 0;padding:1em;overflow:auto}.gatsby-highlight pre[class*=language-].line-numbers{padding:0 0 0 2.8em;overflow:initial}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.28.2"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://codingconnects.com/sam-pattern" data-baseprotocol="https:" data-basehost="codingconnects.com"/><title data-react-helmet="true">The SAM pattern</title><link data-react-helmet="true" rel="icon" href="/static/favicon-36e47e74810a0d8c32a77f495c49cf8e.ico" type="image/x-icon"/><meta data-react-helmet="true" name="description" content="The SAM Pattern as an alternative approach to widely adopted Frontend architectures. I show how to implement a simple browser game with this pattern."/><meta data-react-helmet="true" property="og:site_name" content="Coding Connects"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="The SAM pattern"/><meta data-react-helmet="true" property="og:description" content="The SAM Pattern as an alternative approach to widely adopted Frontend architectures. I show how to implement a simple browser game with this pattern."/><meta data-react-helmet="true" property="og:url" content="https://codingconnects.com/sam-pattern"/><meta data-react-helmet="true" property="og:image" content="https://codingconnects.com/static/d31c1058c6b461e58b54e829b2bd7d02/097fa/sam_pattern.jpg"/><meta data-react-helmet="true" property="article:published_time" content="2021-04-11T22:00:00.169Z"/><meta data-react-helmet="true" property="article:tag" content="Coding"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="The SAM pattern"/><meta data-react-helmet="true" name="twitter:description" content="The SAM Pattern as an alternative approach to widely adopted Frontend architectures. I show how to implement a simple browser game with this pattern."/><meta data-react-helmet="true" name="twitter:url" content="https://codingconnects.com/sam-pattern"/><meta data-react-helmet="true" name="twitter:image" content="https://codingconnects.com/static/d31c1058c6b461e58b54e829b2bd7d02/097fa/sam_pattern.jpg"/><meta data-react-helmet="true" name="twitter:label1" content="Written by"/><meta data-react-helmet="true" name="twitter:data1" content="Achim"/><meta data-react-helmet="true" name="twitter:label2" content="Filed under"/><meta data-react-helmet="true" name="twitter:data2" content="Coding"/><meta data-react-helmet="true" name="twitter:site" content="@achimcc"/><meta data-react-helmet="true" name="twitter:creator" content="@achimcc"/><meta data-react-helmet="true" property="og:image:width" content="1920"/><meta data-react-helmet="true" property="og:image:height" content="1275.8709677419354"/><link rel="alternate" type="application/rss+xml" title="Your Site&#x27;s RSS Feed" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-G0GMTN0BVG"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-G0GMTN0BVG', {"send_page_view":false});
      }
      </script><link as="script" rel="preload" href="/webpack-runtime-f75e8519cac8f0594506.js"/><link as="script" rel="preload" href="/styles-1043fb1b9b9e69356781.js"/><link as="script" rel="preload" href="/framework-f2d5397935be7d8d1b21.js"/><link as="script" rel="preload" href="/app-c7ab5beafe45fe148ebb.js"/><link as="script" rel="preload" href="/b4ffff85-c3ee66a0b5ec4c242e48.js"/><link as="script" rel="preload" href="/14cad5d5-a93eb3977eb335d3b28f.js"/><link as="script" rel="preload" href="/e0525e89-ca2735411f53a5737636.js"/><link as="script" rel="preload" href="/commons-c2667c2b17e5a7625647.js"/><link as="script" rel="preload" href="/component---src-templates-author-tsx-ef6bb07cb7a2f4983bd2.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-823260c21c7add2b5818.js"/><link as="fetch" rel="preload" href="/page-data/sam-pattern/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1656586896.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2837162577.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/705560679.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-template"><style data-emotion="css-global wbphhm">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-spacing:0;border-collapse:collapse;}img{max-width:100%;}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;}*,*:before,*:after{box-sizing:inherit;}a{background-color:transparent;}a:active,a:hover{outline:0;}b,strong{font-weight:bold;}i,em,dfn{font-style:italic;}h1{margin:0.67em 0;font-size:2em;}small{font-size:80%;}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}img{border:0;}svg:not(:root){overflow:hidden;}mark{background-color:#fdffb6;}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em;}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit;}button{overflow:visible;border:none;}button,select{text-transform:none;}button,html input[type='button'],input[type='reset'],input[type='submit']{cursor:pointer;-webkit-appearance:button;}button[disabled],html input[disabled]{cursor:default;}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0;}input{line-height:normal;}input:focus{outline:none;}input[type='checkbox'],input[type='radio']{box-sizing:border-box;padding:0;}input[type='number']::-webkit-inner-spin-button,input[type='number']::-webkit-outer-spin-button{height:auto;}input[type='search']{box-sizing:content-box;-webkit-appearance:textfield;}input[type='search']::-webkit-search-cancel-button,input[type='search']::-webkit-search-decoration{-webkit-appearance:none;}legend{padding:0;border:0;}textarea{overflow:auto;}table{border-spacing:0;border-collapse:collapse;}td,th{padding:0;}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}body{overflow-x:hidden;color:#303a3e;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;}::selection{text-shadow:none;background:#cbeafb;}hr{position:relative;display:block;width:100%;margin:2.5em 0 3.5em;padding:0;height:1px;border:0;border-top:1px solid #e4eaed;}audio,canvas,iframe,img,svg,video{vertical-align:middle;}fieldset{margin:0;padding:0;border:0;}textarea{resize:vertical;}p,ul,ol,dl,blockquote{margin:0 0 1.5em 0;}ol,ul{padding-left:1.3em;padding-right:1.5em;}ol ol,ul ul,ul ol,ol ul{margin:0.5em 0 1em;}ul{list-style:disc;}ol{list-style:decimal;}ul,ol{max-width:100%;}li{margin:0.5em 0;padding-left:0.3em;line-height:1.6em;}dt{float:left;margin:0 20px 0 0;width:120px;color:#15171A;font-weight:500;text-align:right;}dd{margin:0 0 5px 0;text-align:left;}blockquote{margin:1.5em 0;padding:0 1.6em 0 1.6em;border-left:#e5eff5 0.5em solid;}blockquote p{margin:0.8em 0;font-size:1.2em;font-weight:300;}blockquote small{display:inline-block;margin:0.8em 0 0.8em 1.5em;font-size:0.9em;opacity:0.8;}blockquote cite{font-weight:bold;}blockquote cite a{font-weight:normal;}a{color:#26a6ed;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}h1,h2,h3,h4,h5,h6{margin-top:0;line-height:1.15;font-weight:600;text-rendering:optimizeLegibility;}h1{margin:0 0 0.5em 0;font-size:5.5rem;font-weight:600;}@media (max-width: 500px){h1{font-size:2.2rem;}}h2{margin:1.5em 0 0.5em 0;font-size:2.2rem;}@media (max-width: 500px){h2{font-size:1.8rem;}}h3{margin:1.5em 0 0.5em 0;font-size:1.8rem;font-weight:500;}@media (max-width: 500px){h3{font-size:1.7rem;}}h4{margin:1.5em 0 0.5em 0;font-size:1.6rem;font-weight:500;}h5{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}h6{margin:1.5em 0 0.5em 0;font-size:1.4rem;font-weight:500;}body{background:#fff;}@media (prefers-color-scheme: dark){body{color:rgba(255, 255, 255, 0.75);background:#191b1f;}img{opacity:0.9;}}</style><style data-emotion="css wv5on3">.css-wv5on3 .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-wv5on3 .site-main{background:#191b1f;}}</style><style data-emotion="css ciudg9-StyledWrapper">.css-ciudg9-StyledWrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}.css-ciudg9-StyledWrapper .site-main{margin-top:64px;background:#fff;padding-bottom:4vw;}@media (prefers-color-scheme: dark){.css-ciudg9-StyledWrapper .site-main{background:#191b1f;}}</style><div class="css-ciudg9-StyledWrapper e1qc2gh10"><header class="site-header"><style data-emotion="css 1qxgdzi">.css-1qxgdzi{position:relative;padding:0 5vw;position:fixed;top:0;right:0;left:0;z-index:1000;background:#0a0b0c;}@media (max-width: 700px){.css-1qxgdzi{padding-right:0;padding-left:0;}}</style><div class="css-1qxgdzi"><style data-emotion="css y521qa">.css-y521qa{margin:0 auto;max-width:1040px;width:100%;}</style><div class="css-y521qa"><style data-emotion="css 4l414o">.css-4l414o{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;overflow-y:visible;height:64px;font-size:1.3rem;}</style><nav class="css-4l414o"><style data-emotion="css v0g42r-SiteNavLeft">.css-v0g42r-SiteNavLeft{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;overflow-x:auto;overflow-y:visible;-webkit-overflow-scrolling:touch;margin-right:10px;padding:10px 0 80px;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;white-space:nowrap;-ms-overflow-scrolling:touch;}@media (max-width: 700px){.css-v0g42r-SiteNavLeft{margin-right:0;padding-left:5vw;}}</style><div class="site-nav-left css-v0g42r-SiteNavLeft e1eams1i5"><style data-emotion="css 3oagtl">.css-3oagtl{position:relative;z-index:100;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:inline-block;margin-right:32px;padding:12px 0;color:#fff;font-size:1.7rem;line-height:1.8rem;font-weight:bold;letter-spacing:-0.5px;text-transform:none;}.css-3oagtl:hover{-webkit-text-decoration:none;text-decoration:none;}.css-3oagtl img{display:block;width:auto;height:21px;}</style><a class="site-nav-logo css-3oagtl" href="/"><img src="/static/671929004fd55ca95ff94c4e53a77472/53f65/codingsquare.png" alt="Coding Connects"/></a><style data-emotion="css hq2zwp-SiteNavContent">.css-hq2zwp-SiteNavContent{position:relative;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;}</style><div class="css-hq2zwp-SiteNavContent e1eams1i4"><style data-emotion="css 1j14q8j">.css-1j14q8j{position:fixed;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0 0 0 -12px;padding:0;list-style:none;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);}.css-1j14q8j li{display:block;margin:0;padding:0;}.css-1j14q8j li a{position:relative;display:block;padding:12px 12px;color:#fff;opacity:0.8;-webkit-transition:opacity 0.35s ease-in-out;transition:opacity 0.35s ease-in-out;}.css-1j14q8j li a:hover{-webkit-text-decoration:none;text-decoration:none;opacity:1;}.css-1j14q8j li a:before{content:'';position:absolute;right:100%;bottom:8px;left:12px;height:1px;background:#fff;opacity:0.25;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-1j14q8j li a:hover:before{right:12px;opacity:0.5;}</style><ul role="menu" class="css-1j14q8j"><li role="menuitem"><a href="/">Home</a></li><style data-emotion="css v2zaq">.css-v2zaq{z-index:500;list-style:none;margin:0;padding:0;}</style><ul class="css-v2zaq"><style data-emotion="css 1cp3q04">.css-1cp3q04{z-index:500;color:white;display:block;float:left;padding:1rem;position:relative;transition-duration:0.5s;}.css-1cp3q04:hover{cursor:pointer;}.css-1cp3q04:hover>ul{visibility:visible;opacity:1;display:block;padding-left:0px;}</style><li class="css-1cp3q04"><style data-emotion="css 1rjjerg">.css-1rjjerg{z-index:500;color:white;padding-left:0;-webkit-text-decoration:none;text-decoration:none;}</style><a aria-haspopup="true" class="css-1rjjerg">Categories</a><style data-emotion="css 18l3qn6">.css-18l3qn6{z-index:500;list-style:none;visibility:hidden;background:#0a0b0c;opacity:0;display:none;min-width:14rem;position:absolute;-webkit-transition:all 0.5s ease;transition:all 0.5s ease;margin-top:0;left:0;}.css-18l3qn6:hover{visibility:visible;opacity:1;display:block;padding-left:0px;}</style><ul aria-label="submenu" class="css-18l3qn6"><style data-emotion="css 1i3zl5j">.css-1i3zl5j{z-index:500;clear:both;width:100%;padding:1rem;}</style><li class="css-1i3zl5j"><style data-emotion="css 1wvykvw">.css-1wvykvw{z-index:500;color:white;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/categories/coding/" class="css-1wvykvw">Coding</a></li><li class="css-1i3zl5j"><a href="/categories/digital-life/" class="css-1wvykvw">Digital Life</a></li></ul></li></ul><li role="menuitem"><a href="/about">About Me</a></li></ul><style data-emotion="css 1onbajh-NavPostTitle">.css-1onbajh-NavPostTitle{visibility:hidden;position:absolute;top:9px;color:#fff;font-size:1.7rem;font-weight:400;text-transform:none;opacity:0;-webkit-transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);transition:all 1s cubic-bezier(0.19, 1, 0.22, 1);-webkit-transform:translateY(175%);-moz-transform:translateY(175%);-ms-transform:translateY(175%);transform:translateY(175%);}.css-1onbajh-NavPostTitle .dash{left:-25px;}.css-1onbajh-NavPostTitle .dash:before{content:'– ';opacity:0.5;}</style><span class="nav-post-title css-1onbajh-NavPostTitle e1eams1i0">The SAM pattern</span></div></div><style data-emotion="css hpgq15-SiteNavRight">.css-hpgq15-SiteNavRight{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:10px 0;height:64px;}@media (max-width: 700px){.css-hpgq15-SiteNavRight{display:none;}}</style><div class="css-hpgq15-SiteNavRight e1eams1i3"><style data-emotion="css 1xptbpi-SocialLinks">.css-1xptbpi-SocialLinks{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-1xptbpi-SocialLinks e1eams1i2"><style data-emotion="css 1mnl8gk">.css-1mnl8gk{display:inline-block;margin:0;padding:10px;opacity:0.8;}.css-1mnl8gk:hover{opacity:1;}.css-1mnl8gk svg{height:1.8rem;fill:#fff;}</style><a href="https://twitter.com/achimcc" title="Twitter" target="_blank" rel="noopener noreferrer" class="css-1mnl8gk"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg></a></div></div></nav></div></div></header><style data-emotion="css 12lzzeq">.css-12lzzeq{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 5vw;}@media (prefers-color-scheme: dark){.css-12lzzeq{background:#191b1f;}}</style><main id="site-main" class="site-main css-12lzzeq"><div class="css-y521qa"><style data-emotion="css 1wcdnkk">.css-1wcdnkk{position:relative;z-index:50;}</style><article class="css-1wcdnkk"><style data-emotion="css 196ohmu-PostFullHeader">.css-196ohmu-PostFullHeader{position:relative;margin:0 auto;padding:70px 170px 50px;border-top-left-radius:3px;border-top-right-radius:3px;}@media (max-width: 1170px){.css-196ohmu-PostFullHeader{padding:60px 11vw 50px;}}@media (max-width: 800px){.css-196ohmu-PostFullHeader{padding-right:5vw;padding-left:5vw;}}@media (max-width: 500px){.css-196ohmu-PostFullHeader{padding:20px 0 35px;}}</style><header class="post-full-header css-196ohmu-PostFullHeader ed9ta2m7"><style data-emotion="css ylh3mk-PostFullCategory">.css-ylh3mk-PostFullCategory{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:1.5rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}</style><section class="post-full-tags css-ylh3mk-PostFullCategory ed9ta2m6"><a href="/categories/coding/">Coding</a></section><style data-emotion="css j6n356-PostFullTitle">.css-j6n356-PostFullTitle{margin:0 0 0.2em;color:#0b0c0e;}@media (max-width: 500px){.css-j6n356-PostFullTitle{margin-top:0.2em;font-size:3.3rem;}}@media (prefers-color-scheme: dark){.css-j6n356-PostFullTitle{color:rgba(255, 255, 255, 0.9);}}</style><h1 class="post-full-title css-j6n356-PostFullTitle ed9ta2m1">The SAM pattern</h1><style data-emotion="css 1lrqeno-PostFullTags">.css-1lrqeno-PostFullTags{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#738a94;font-size:1.3rem;line-height:1.4em;font-weight:600;text-transform:uppercase;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}</style><section class="css-1lrqeno-PostFullTags ed9ta2m5">Tags: <style data-emotion="css lb3csc-Tag">.css-lb3csc-Tag{border:1px solid #738a94;color:#5b65b7;margin:0 2px;padding:0px 0px 0px 3px;border-radius:10%/30%;font-size:1.3rem;line-height:1.4em;font-weight:600;text-transform:uppercase;}.css-lb3csc-Tag >a{color:#5b65b7;}.css-lb3csc-Tag:hover{border-color:#3eb0ef;}.css-lb3csc-Tag:hover>a{-webkit-text-decoration:initial;text-decoration:initial;}</style><section class="css-lb3csc-Tag ed9ta2m4"><a href="/tags/type-script/">TypeScript<!-- --> </a></section><section class="css-lb3csc-Tag ed9ta2m4"><a href="/tags/architecture/">Architecture<!-- --> </a></section><section class="css-lb3csc-Tag ed9ta2m4"><a href="/tags/reactive-programming/">Reactive Programming<!-- --> </a></section><section class="css-lb3csc-Tag ed9ta2m4"><a href="/tags/react/">React<!-- --> </a></section></section><style data-emotion="css bblwuy-PostFullCustomExcerpt">.css-bblwuy-PostFullCustomExcerpt{margin:20px 0 0;color:var(--midgrey);font-family:Georgia,serif;font-size:2.3rem;line-height:1.4em;font-weight:300;}@media (max-width: 500px){.css-bblwuy-PostFullCustomExcerpt{font-size:1.9rem;line-height:1.5em;}}@media (prefers-color-scheme: dark){.css-bblwuy-PostFullCustomExcerpt{color:#90a2aa;}}</style><p class="post-full-custom-excerpt css-bblwuy-PostFullCustomExcerpt ed9ta2m3">The SAM Pattern as an alternative approach to widely adopted Frontend architectures. I show how to implement a simple browser game with this pattern.</p><style data-emotion="css 1vpg9ru-PostFullByline">.css-1vpg9ru-PostFullByline{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:35px 0 0;padding-top:15px;border-top:1px solid #e4eaed;}.css-1vpg9ru-PostFullByline .post-full-byline-content{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-1vpg9ru-PostFullByline .post-full-byline-content .author-list{-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;padding:0 12px 0 0;}.css-1vpg9ru-PostFullByline .post-full-byline-meta{margin:2px 0 0;color:#90a2aa;font-size:1.2rem;line-height:1.2em;letter-spacing:0.2px;text-transform:uppercase;}.css-1vpg9ru-PostFullByline .post-full-byline-meta h4{margin:0 0 3px;font-size:1.3rem;line-height:1.4em;font-weight:500;}.css-1vpg9ru-PostFullByline .post-full-byline-meta h4 a{color:#2c3036;}.css-1vpg9ru-PostFullByline .post-full-byline-meta h4 a:hover{color:#15171A;}.css-1vpg9ru-PostFullByline .post-full-byline-meta .bull{display:inline-block;margin:0 4px;opacity:0.6;}@media (prefers-color-scheme: dark){.css-1vpg9ru-PostFullByline{border-top-color:#3b4049;}.css-1vpg9ru-PostFullByline .post-full-byline-meta h4 a{color:rgba(255, 255, 255, 0.75);}.css-1vpg9ru-PostFullByline .post-full-byline-meta h4 a:hover{color:#fff;}}</style><div class="post-full-byline css-1vpg9ru-PostFullByline ed9ta2m2"><section class="post-full-byline-content"><style data-emotion="css 1hsiuvg-AuthorListUl">.css-1hsiuvg-AuthorListUl{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 0 0 4px;padding:0;list-style:none;}</style><ul class="author-list css-1hsiuvg-AuthorListUl e17065270"><style data-emotion="css 1v0tknn-AuthorListItemLi">.css-1v0tknn-AuthorListItemLi{position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;margin:0;padding:0;}.css-1v0tknn-AuthorListItemLi:hover .author-name-tooltip{opacity:1;-webkit-transform:translateY(0px);-moz-transform:translateY(0px);-ms-transform:translateY(0px);transform:translateY(0px);}</style><li class="author-list-item css-1v0tknn-AuthorListItemLi e1dih3yq1"><style data-emotion="css nqg22v">.css-nqg22v{position:absolute;bottom:130%;left:50%;z-index:600;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-left:-200px;width:400px;font-size:1.4rem;line-height:1.5em;background:white;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.06) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:scale(0.98) translateY(15px);-moz-transform:scale(0.98) translateY(15px);-ms-transform:scale(0.98) translateY(15px);transform:scale(0.98) translateY(15px);pointer-events:none;padding:20px 20px 22px;}.css-nqg22v:before{content:'';position:absolute;top:100%;left:50%;display:block;margin-left:-8px;width:0;height:0;border-top:8px solid #fff;border-right:8px solid transparent;border-left:8px solid transparent;}.css-nqg22v .author-info{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;padding:0 0 0 20px;}.css-nqg22v .author-info h2{margin:8px 0 0;font-size:1.6rem;}.css-nqg22v .author-info p{margin:4px 0 0;color:color(var(--midgrey) l(-10%));}.css-nqg22v .author-info .bio h2{margin-top:0;}.css-nqg22v .author-info .bio p{margin-top:0.8em;}.css-nqg22v .author-profile-image{-webkit-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;margin:0;width:60px;height:60px;border:none;}@media (max-width: 1170px){.css-nqg22v{margin-left:-50px;width:430px;}.css-nqg22v:before{left:50px;}}@media (max-width: 650px){.css-nqg22v{display:none;}}@media (prefers-color-scheme: dark){.css-nqg22v{background:#22252a;box-shadow:0 12px 26px rgba(0, 0, 0, 0.4);}.css-nqg22v:before{border-top-color:#22252a;}}</style><div class="author-card css-nqg22v"><style data-emotion="css 1kq7wgl">.css-1kq7wgl{display:block;width:100%;height:100%;background:#e4eaed;border-radius:100%;object-fit:cover;}@media (prefers-color-scheme: dark){.css-1kq7wgl{background:#191b1f;}}</style><div class="author-profile-image css-1kq7wgl gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAkIB//EABgBAAIDAAAAAAAAAAAAAAAAAAYHAQID/9oADAMBAAIQAxAAAAHS/G5782jGqabggEtFzKF02dmC47//xAAcEAACAwEAAwAAAAAAAAAAAAAEBQEDBgcAAhL/2gAIAQEAAQUCK7CEL5d19jK9d2cagXX6RgmFYa35FvPNCnu0URR6EWtiNUpACO//xAAkEQACAQQBBAIDAAAAAAAAAAABAgMEBRESIQATIjEGFSRBkf/aAAgBAwEBPwF7Jbau3XJK2Searjjp1t6ysNJFkkK1cEjduR3j7XlpJJGmeCH5yPj9FABF+RH2/DQel1wMcy5/vV2RfsaFdV1eKDdcDD5rJAdh6bI4Of11do41ulwVY0VVrJ1VQqgKBLgAADAAHAA9Dr//xAAlEQACAQIEBgMAAAAAAAAAAAABAgMEEQAFEiEGEyIjMUEVFmH/2gAIAQIBAT8By7iHMy9HU0MEVNBNLM9QIgY7PCO3Py2kROZzV0iWNC483T19wzGTr7LFtyxQ3J/bIRjh9m+KnOo3V59Jubr2lPSfW++2KKR2pKZmdmZoYyzFiSSQpJJJuSTuSfOP/8QAJhAAAgICAgICAQUBAAAAAAAAAgMBBBITBREAIhQhIwYxMjRhYv/aAAgBAQAGPwIqiuN5+7xujaorFmlrbXXGWQU3zuBEeuMEzdjERAR315YW7gFQiyyHUUTyFoq4p9QKWG2Xuk67NUHqKoUSXWMDiXgBd4B/yPvOadmtoP8A6iLH5RmevsZmf8nwK63WF3LJHWbWMm1tY11wTCtLmIZ3kxWsA1QUd7MhAfOKqv4m1UcKgutZad/YRyC06pqpEYD45SPyBc7t5kWs8Yiewhd5yFWUpuq1OPFyrKxNbpwZ9GQ9QQl7hI4z+3n6ecdSq5g2syNqvyNGHpGUMcEg/QwB1mAsH0IsZGfuOO+cUuztaT9jGSS7lAZK+xKJARmy2F68dY4iM+o9VadVOqvW49KkrhjCxCHWJiJMyIzn7/kZEX++f//EABoQAQEAAwEBAAAAAAAAAAAAAAERACExQVH/2gAIAQEAAT8hYZQbUR0nYyAJS2NpwbYCKH6sIHuviwPaiFEqDnEPYWTogREoAYN1eO5VBoyZktL0IgB8beeD1f4mgTFdT/QKmQhO0lB5FjTUAydAO8XQePbCCwJ//9oADAMBAAIAAwAAABBYOIP/xAAaEQEBAQEAAwAAAAAAAAAAAAABESEAMUFR/9oACAEDAQE/ENtBI52EsqxCJ4YZEFEYA3gGOsPPsIiU2pJL4BbhpnKkBG2HgYAAAADv/8QAGREBAQEBAQEAAAAAAAAAAAAAAREhADFx/9oACAECAQE/EFNzpTxgDYwrsDqpa7J2JUGNxBZE9Y/A3YCaWcKI77zcIJf5xAoKlVV7/8QAFxABAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAQABPxBWEKaKe7qYy0y+lhYiW9tbVpxYrFG0mMM4bPtuyTJ4KryConvBRhYvc5Z4/sdaBAoEyTJmd/erFMNINlstQ58pWc5nbcezPmQEWpk5jz//2Q==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/b3d27/photo.jpg 40w,
/static/f0e62a5f1008caf70cef21b452bf0c33/5a735/photo.jpg 80w,
/static/f0e62a5f1008caf70cef21b452bf0c33/6e81a/photo.jpg 120w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><img loading="lazy" sizes="(max-width: 720px) 100vw, 720px" srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/b3d27/photo.jpg 40w,
/static/f0e62a5f1008caf70cef21b452bf0c33/5a735/photo.jpg 80w,
/static/f0e62a5f1008caf70cef21b452bf0c33/6e81a/photo.jpg 120w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" src="/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="author-info"><div class="bio"><h2>Achim</h2><p>JavaScript/TypeScript/OutSystems Developer from Berlin</p><p><a href="/author/achim/">More posts</a> by<!-- --> <!-- -->Achim<!-- -->.</p></div></div></div><style data-emotion="css 1smzq71">.css-1smzq71{display:block;overflow:hidden;margin:0 -4px;width:40px;height:40px;border:#fff 2px solid;border-radius:100%;-webkit-transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;transition:all 0.5s cubic-bezier(0.4, 0.01, 0.165, 0.99) 700ms;}@media (max-width: 500px){.css-1smzq71{width:36px;height:36px;}}@media (prefers-color-scheme: dark){.css-1smzq71{border-color:#1a1c20;}}</style><a class="author-avatar css-1smzq71" href="/author/achim/"><div class="author-profile-image css-1kq7wgl gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAkIB//EABgBAAIDAAAAAAAAAAAAAAAAAAYHAQID/9oADAMBAAIQAxAAAAHS/G5782jGqabggEtFzKF02dmC47//xAAcEAACAwEAAwAAAAAAAAAAAAAEBQEDBgcAAhL/2gAIAQEAAQUCK7CEL5d19jK9d2cagXX6RgmFYa35FvPNCnu0URR6EWtiNUpACO//xAAkEQACAQQBBAIDAAAAAAAAAAABAgMEBRESIQATIjEGFSRBkf/aAAgBAwEBPwF7Jbau3XJK2Searjjp1t6ysNJFkkK1cEjduR3j7XlpJJGmeCH5yPj9FABF+RH2/DQel1wMcy5/vV2RfsaFdV1eKDdcDD5rJAdh6bI4Of11do41ulwVY0VVrJ1VQqgKBLgAADAAHAA9Dr//xAAlEQACAQIEBgMAAAAAAAAAAAABAgMEEQAFEiEGEyIjMUEVFmH/2gAIAQIBAT8By7iHMy9HU0MEVNBNLM9QIgY7PCO3Py2kROZzV0iWNC483T19wzGTr7LFtyxQ3J/bIRjh9m+KnOo3V59Jubr2lPSfW++2KKR2pKZmdmZoYyzFiSSQpJJJuSTuSfOP/8QAJhAAAgICAgICAQUBAAAAAAAAAgMBBBITBREAIhQhIwYxMjRhYv/aAAgBAQAGPwIqiuN5+7xujaorFmlrbXXGWQU3zuBEeuMEzdjERAR315YW7gFQiyyHUUTyFoq4p9QKWG2Xuk67NUHqKoUSXWMDiXgBd4B/yPvOadmtoP8A6iLH5RmevsZmf8nwK63WF3LJHWbWMm1tY11wTCtLmIZ3kxWsA1QUd7MhAfOKqv4m1UcKgutZad/YRyC06pqpEYD45SPyBc7t5kWs8Yiewhd5yFWUpuq1OPFyrKxNbpwZ9GQ9QQl7hI4z+3n6ecdSq5g2syNqvyNGHpGUMcEg/QwB1mAsH0IsZGfuOO+cUuztaT9jGSS7lAZK+xKJARmy2F68dY4iM+o9VadVOqvW49KkrhjCxCHWJiJMyIzn7/kZEX++f//EABoQAQEAAwEBAAAAAAAAAAAAAAERACExQVH/2gAIAQEAAT8hYZQbUR0nYyAJS2NpwbYCKH6sIHuviwPaiFEqDnEPYWTogREoAYN1eO5VBoyZktL0IgB8beeD1f4mgTFdT/QKmQhO0lB5FjTUAydAO8XQePbCCwJ//9oADAMBAAIAAwAAABBYOIP/xAAaEQEBAQEAAwAAAAAAAAAAAAABESEAMUFR/9oACAEDAQE/ENtBI52EsqxCJ4YZEFEYA3gGOsPPsIiU2pJL4BbhpnKkBG2HgYAAAADv/8QAGREBAQEBAQEAAAAAAAAAAAAAAREhADFx/9oACAECAQE/EFNzpTxgDYwrsDqpa7J2JUGNxBZE9Y/A3YCaWcKI77zcIJf5xAoKlVV7/8QAFxABAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAQABPxBWEKaKe7qYy0y+lhYiW9tbVpxYrFG0mMM4bPtuyTJ4KryConvBRhYvc5Z4/sdaBAoEyTJmd/erFMNINlstQ58pWc5nbcezPmQEWpk5jz//2Q==" alt="Achim" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/b3d27/photo.jpg 40w,
/static/f0e62a5f1008caf70cef21b452bf0c33/5a735/photo.jpg 80w,
/static/f0e62a5f1008caf70cef21b452bf0c33/6e81a/photo.jpg 120w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><img loading="lazy" sizes="(max-width: 720px) 100vw, 720px" srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/b3d27/photo.jpg 40w,
/static/f0e62a5f1008caf70cef21b452bf0c33/5a735/photo.jpg 80w,
/static/f0e62a5f1008caf70cef21b452bf0c33/6e81a/photo.jpg 120w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" src="/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg" alt="Achim" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><section class="post-full-byline-meta"><h4 class="author-name"><a href="/author/achim/">Achim</a></h4><div class="byline-meta-content"><time class="byline-meta-date" dateTime="2021-04-12">12 Apr 2021</time><span class="byline-reading-time"><span class="bull">•</span> <!-- -->4<!-- --> min read</span></div></section></section></div></header><style data-emotion="css jnooh8-PostFullImage">.css-jnooh8-PostFullImage{margin:25px 0 50px;height:800px;background:#c5d2d9 center center;-webkit-background-size:cover;background-size:cover;border-radius:5px;}@media (max-width: 1170px){.css-jnooh8-PostFullImage{margin:25px -6vw 50px;border-radius:0;}.css-jnooh8-PostFullImage img{max-width:1170px;}}@media (max-width: 800px){.css-jnooh8-PostFullImage{height:400px;}}@media (max-width: 500px){.css-jnooh8-PostFullImage{margin-bottom:4vw;height:350px;}}</style><figure class="css-jnooh8-PostFullImage ed9ta2m0"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:66.45161290322581%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAcEBQYJ/8QAFwEAAwEAAAAAAAAAAAAAAAAAAQMEBf/aAAwDAQACEAMQAAAB4pt5I36tPFkAMn//xAAcEAACAgIDAAAAAAAAAAAAAAACAwQFARMABhH/2gAIAQEAAQUChjgOXfW5NWl6xBu9muXZyWxiLzP/xAAfEQADAAEDBQAAAAAAAAAAAAABAgMhABETEiIxQXH/2gAIAQMBAT8BLy4WZjcWmvHAJxL206ioqQAKIVqcHZpqcF2xrcDyc+/uv//EAB0RAAMAAQUBAAAAAAAAAAAAAAECAxEAEhMhMXH/2gAIAQIBAT8B5bzvBVEli5R7qxeqMAkydqt4xMwx6KuTtIRQNHGTjzPXzX//xAAlEAACAgEDBAEFAAAAAAAAAAABAgMREgQTIQAiMVEFECMyQWH/2gAIAQEABj8ChVVUTyMW3HAkWNI+clj8MxqsWvkDgZG9FNr5ozH8jDFqIVkfTvJtTvsb2WmA2zC9M0JtSgam4NyIGDhGKh15VqNZD+H9daaa+9d6P32CjXPvcfxXm/y56gWR2cH7gzwPdWIJIjV5MQOzNyF9Xz9P/8QAGxABAQEBAAMBAAAAAAAAAAAAAREhADFBUWH/2gAIAQEAAT8hM0VPSyVBCVxB8FVXW6g3dXvTirfOIWpuyq+PL2ZGqilgkMDn4AprwQBQsnsUHngtH9jlt9q/nf/aAAwDAQACAAMAAAAQk+//xAAaEQEBAQADAQAAAAAAAAAAAAABESEAMVHR/9oACAEDAQE/ELbBsruL5aqS4CAaJgZ0Wb6O/Dn/xAAZEQEBAAMBAAAAAAAAAAAAAAABESFBYYH/2gAIAQIBAT8QFtTbAW9ooiGaJY0hilYF2hh95P/EABgQAQEBAQEAAAAAAAAAAAAAAAERACEx/9oACAEBAAE/ECr1jVMi11C3AhRb0hxW9ykVOky7MB40BiKINfd2Nu/KfLFeOkBKZBb8R6AqgXE60Ql20FqqvVvV3//Z" alt="The SAM pattern" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/d31c1058c6b461e58b54e829b2bd7d02/0079a/sam_pattern.jpg 930w,
/static/d31c1058c6b461e58b54e829b2bd7d02/8dba1/sam_pattern.jpg 1860w,
/static/d31c1058c6b461e58b54e829b2bd7d02/097fa/sam_pattern.jpg 1920w" sizes="(max-width: 1920px) 100vw, 1920px" /><img loading="lazy" sizes="(max-width: 1920px) 100vw, 1920px" srcset="/static/d31c1058c6b461e58b54e829b2bd7d02/0079a/sam_pattern.jpg 930w,
/static/d31c1058c6b461e58b54e829b2bd7d02/8dba1/sam_pattern.jpg 1860w,
/static/d31c1058c6b461e58b54e829b2bd7d02/097fa/sam_pattern.jpg 1920w" src="/static/d31c1058c6b461e58b54e829b2bd7d02/097fa/sam_pattern.jpg" alt="The SAM pattern" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></figure><style data-emotion="css 1g3ft9a-PostFullContent">.css-1g3ft9a-PostFullContent{position:relative;margin:0 auto;padding:0 170px 6vw;min-height:230px;font-family:Georgia,serif;font-size:2rem;line-height:1.6em;background:#fff;}@media (max-width: 1170px){.css-1g3ft9a-PostFullContent{padding:0 11vw;}}@media (max-width: 800px){.css-1g3ft9a-PostFullContent{padding:0 5vw;font-size:1.8rem;}}@media (max-width: 500px){.css-1g3ft9a-PostFullContent{padding:0;}}@media (max-width: 500px){.css-1g3ft9a-PostFullContent .post-full-custom-excerpt{font-size:1.9rem;line-height:1.5em;}}.css-1g3ft9a-PostFullContent .no-image{padding-top:0;}.css-1g3ft9a-PostFullContent h1,.css-1g3ft9a-PostFullContent h2,.css-1g3ft9a-PostFullContent h3,.css-1g3ft9a-PostFullContent h4,.css-1g3ft9a-PostFullContent h5,.css-1g3ft9a-PostFullContent h6,.css-1g3ft9a-PostFullContent p,.css-1g3ft9a-PostFullContent ul,.css-1g3ft9a-PostFullContent ol,.css-1g3ft9a-PostFullContent dl,.css-1g3ft9a-PostFullContent pre,.css-1g3ft9a-PostFullContent blockquote,.css-1g3ft9a-PostFullContent .post-full-comments,.css-1g3ft9a-PostFullContent .footnotes{margin:0 0 1.5em 0;min-width:100%;}@media (max-width: 500px){.css-1g3ft9a-PostFullContent p,.css-1g3ft9a-PostFullContent ul,.css-1g3ft9a-PostFullContent ol,.css-1g3ft9a-PostFullContent dl,.css-1g3ft9a-PostFullContent pre,.css-1g3ft9a-PostFullContent .post-full-comments,.css-1g3ft9a-PostFullContent .footnotes{margin-bottom:1.28em;}}.css-1g3ft9a-PostFullContent li{word-break:break-word;}.css-1g3ft9a-PostFullContent li p{margin:0;}.css-1g3ft9a-PostFullContent a{color:#15171A;word-break:break-word;box-shadow:#15171A 0 -1px 0 inset;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-1g3ft9a-PostFullContent a:hover{color:#3eb0ef;-webkit-text-decoration:none;text-decoration:none;box-shadow:#3eb0ef 0 -1px 0 inset;}.css-1g3ft9a-PostFullContent strong,.css-1g3ft9a-PostFullContent em{color:#0a0b0c;}.css-1g3ft9a-PostFullContent small{display:inline-block;line-height:1.6em;}.css-1g3ft9a-PostFullContent img,.css-1g3ft9a-PostFullContent video{display:block;margin:1.5em auto;max-width:1040px;height:auto;}@media (max-width: 1040px){.css-1g3ft9a-PostFullContent img,.css-1g3ft9a-PostFullContent video{width:100%;}}.css-1g3ft9a-PostFullContent img[src$='#full']{max-width:none;width:100vw;}.css-1g3ft9a-PostFullContent img+br+small{display:block;margin-top:-3em;margin-bottom:1.5em;text-align:center;}.css-1g3ft9a-PostFullContent iframe{margin:0 auto!important;}.css-1g3ft9a-PostFullContent blockquote{margin:0 0 1.5em;padding:0 1.5em;border-left:#3eb0ef 3px solid;}@media (max-width: 500px){.css-1g3ft9a-PostFullContent blockquote{padding:0 1.3em;}}.css-1g3ft9a-PostFullContent blockquote p{margin:0 0 1em 0;color:inherit;font-size:inherit;line-height:inherit;font-style:italic;}.css-1g3ft9a-PostFullContent blockquote p:last-child{margin-bottom:0;}.css-1g3ft9a-PostFullContent code{padding:0 5px 2px;font-size:0.8em;line-height:1em;font-weight:400!important;background:#e5eff5;border-radius:3px;}.css-1g3ft9a-PostFullContent p code{word-break:break-all;}.css-1g3ft9a-PostFullContent pre{overflow-x:auto;padding:20px;max-width:100%;color:#e5eff5;font-size:1.4rem;line-height:1.5em;border-radius:5px;}.css-1g3ft9a-PostFullContent pre ::selection{color:#3b474d;}.css-1g3ft9a-PostFullContent pre code{padding:0;font-size:inherit;line-height:inherit;background:transparent;}.css-1g3ft9a-PostFullContent pre code :not(span){color:inherit;}.css-1g3ft9a-PostFullContent .fluid-width-video-wrapper{margin:1.5em 0 3em;}.css-1g3ft9a-PostFullContent hr{margin:2em 0;}.css-1g3ft9a-PostFullContent hr:after{content:'';position:absolute;top:-15px;left:50%;display:block;margin-left:-10px;width:1px;height:30px;background:#e4eaed;box-shadow:#fff 0 0 0 5px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);}.css-1g3ft9a-PostFullContent hr+p{margin-top:1.2em;}.css-1g3ft9a-PostFullContent h1,.css-1g3ft9a-PostFullContent h2,.css-1g3ft9a-PostFullContent h3,.css-1g3ft9a-PostFullContent h4,.css-1g3ft9a-PostFullContent h5,.css-1g3ft9a-PostFullContent h6{color:#0a0b0c;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.css-1g3ft9a-PostFullContent h1{margin:0.5em 0 0.4em;font-size:4.2rem;line-height:1.25em;font-weight:600;}.css-1g3ft9a-PostFullContent p+h1{margin-top:0.8em;}@media (max-width: 800px){.css-1g3ft9a-PostFullContent h1{font-size:3.2rem;line-height:1.25em;}}.css-1g3ft9a-PostFullContent h2{margin:0.5em 0 0.4em;font-size:3.2rem;line-height:1.25em;font-weight:600;}.css-1g3ft9a-PostFullContent p+h2{margin-top:0.8em;}@media (max-width: 800px){.css-1g3ft9a-PostFullContent h2{margin-bottom:0.3em;font-size:2.8rem;line-height:1.25em;}}.css-1g3ft9a-PostFullContent h3{margin:0.5em 0 0.2em;font-size:2.5rem;line-height:1.3em;font-weight:600;}.css-1g3ft9a-PostFullContent h2+h3{margin-top:0.7em;}@media (max-width: 800px){.css-1g3ft9a-PostFullContent h3{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1g3ft9a-PostFullContent h4{margin:0.5em 0 0.2em;font-size:2.5rem;font-weight:600;}.css-1g3ft9a-PostFullContent h2+h4{margin-top:0.7em;}.css-1g3ft9a-PostFullContent h3+h4{margin-top:0;}@media (max-width: 800px){.css-1g3ft9a-PostFullContent h4{margin-bottom:0.3em;font-size:2.4rem;line-height:1.3em;}}.css-1g3ft9a-PostFullContent h5{display:block;margin:0.5em 0;padding:0.4em 1em 0.9em;border:0;color:#3eb0ef;font-family:Georgia,serif;font-size:3.2rem;line-height:1.35em;text-align:center;}@media (min-width: 1180px){.css-1g3ft9a-PostFullContent h5{max-width:1060px;}}@media (max-width: 800px){.css-1g3ft9a-PostFullContent h5{margin-bottom:1em;margin-left:1.3em;padding:0 0 0.5em;font-size:2.4rem;text-align:initial;}}.css-1g3ft9a-PostFullContent h6{margin:0.5em 0 0.2em 0;font-size:2rem;font-weight:700;}@media (max-width: 800px){.css-1g3ft9a-PostFullContent h6{font-size:1.8rem;line-height:1.4em;}}.css-1g3ft9a-PostFullContent table{display:inline-block;overflow-x:auto;margin:0.5em 0 2.5em;max-width:100%;width:auto;border-spacing:0;border-collapse:collapse;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;font-size:1.6rem;white-space:nowrap;vertical-align:top;}.css-1g3ft9a-PostFullContent table{-webkit-overflow-scrolling:touch;background:radial-gradient(ellipse at left, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 0 center,radial-gradient(ellipse at right, rgba(0, 0, 0, 0.2) 0%, rgba(0, 0, 0, 0) 75%) 100% center;background-attachment:scroll,scroll;-webkit-background-size:10px 100%,10px 100%;background-size:10px 100%,10px 100%;background-repeat:no-repeat;}.css-1g3ft9a-PostFullContent table td:first-of-type{background-image:linear-gradient(
      to right,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1g3ft9a-PostFullContent table td:last-child{background-image:linear-gradient(
      to left,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0) 100%
    );-webkit-background-position:100% 0;background-position:100% 0;-webkit-background-size:20px 100%;background-size:20px 100%;background-repeat:no-repeat;}.css-1g3ft9a-PostFullContent table th{color:#15171A;font-size:1.2rem;font-weight:700;letter-spacing:0.2px;text-align:left;text-transform:uppercase;background-color:#f4f8fb;}.css-1g3ft9a-PostFullContent table th,.css-1g3ft9a-PostFullContent table td{padding:6px 12px;border:#e1edf4 1px solid;}@media (prefers-color-scheme: dark){.css-1g3ft9a-PostFullContent{background:#191b1f;}.css-1g3ft9a-PostFullContent h1,.css-1g3ft9a-PostFullContent h2,.css-1g3ft9a-PostFullContent h3,.css-1g3ft9a-PostFullContent h4,.css-1g3ft9a-PostFullContent h6{color:rgba(255, 255, 255, 0.9);}.css-1g3ft9a-PostFullContent a{color:#fff;box-shadow:inset 0 -1px 0 #fff;}.css-1g3ft9a-PostFullContent strong{color:#fff;}.css-1g3ft9a-PostFullContent em{color:#fff;}.css-1g3ft9a-PostFullContent code{color:#fff;background:#000;}.css-1g3ft9a-PostFullContent hr{border-top-color:#17191c;}.css-1g3ft9a-PostFullContent hr:after{background:#17191c;box-shadow:#191b1f 0 0 0 5px;}.css-1g3ft9a-PostFullContent figcaption{color:rgba(255, 255, 255, 0.6);}.css-1g3ft9a-PostFullContent table td:first-of-type{background-image:linear-gradient(to right, #191b1f 50%, #191b1f 100%);}.css-1g3ft9a-PostFullContent table td:last-child{background-image:linear-gradient(270deg, #191b1f 50%, rgba(25, 27, 31, 0));}.css-1g3ft9a-PostFullContent table th{color:rgba(255, 255, 255, 0.85);background-color:#2b2f36;}.css-1g3ft9a-PostFullContent table th,.css-1g3ft9a-PostFullContent table td{border:#2b2f36 1px solid;}.css-1g3ft9a-PostFullContent .kg-bookmark-container,.css-1g3ft9a-PostFullContent .kg-bookmark-container:hover{color:rgba(255, 255, 255, 0.75);box-shadow:0 0 1px rgba(255, 255, 255, 0.9);}}.css-1g3ft9a-PostFullContent code[class*='language-'],.css-1g3ft9a-PostFullContent pre[class*='language-']{color:white;background:none;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;font-feature-settings:normal;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1g3ft9a-PostFullContent pre[class*='language-']{overflow:auto;}.css-1g3ft9a-PostFullContent pre[class*='language-']::-moz-selection{background:hsl(207, 4%, 16%);}.css-1g3ft9a-PostFullContent pre[class*='language-']::selection{background:hsl(207, 4%, 16%);}.css-1g3ft9a-PostFullContent pre[class*='language-']::-moz-selection,.css-1g3ft9a-PostFullContent pre[class*='language-'] ::-moz-selection{text-shadow:none;background:hsla(0, 0%, 100%, 0.15);}.css-1g3ft9a-PostFullContent pre[class*='language-']::selection,.css-1g3ft9a-PostFullContent pre[class*='language-'] ::selection{text-shadow:none;background:hsla(0, 0%, 100%, 0.15);}.css-1g3ft9a-PostFullContent *:not(pre)>code[class*='language-']{border-radius:0.3em;background:rgb(1, 22, 39);color:white;padding:0.15em 0.5em;white-space:normal;}.css-1g3ft9a-PostFullContent .token.attr-name{color:rgb(173, 219, 103);font-style:italic;}.css-1g3ft9a-PostFullContent .token.comment{color:rgb(128, 147, 147);}.css-1g3ft9a-PostFullContent .token.string,.css-1g3ft9a-PostFullContent .token.url{color:rgb(173, 219, 103);}.css-1g3ft9a-PostFullContent .token.variable{color:rgb(214, 222, 235);}.css-1g3ft9a-PostFullContent .token.number{color:rgb(247, 140, 108);}.css-1g3ft9a-PostFullContent .token.builtin,.css-1g3ft9a-PostFullContent .token.char,.css-1g3ft9a-PostFullContent .token.constant,.css-1g3ft9a-PostFullContent .token.function{color:rgb(130, 170, 255);}.css-1g3ft9a-PostFullContent .token.punctuation{color:rgb(199, 146, 234);}.css-1g3ft9a-PostFullContent .token.selector,.css-1g3ft9a-PostFullContent .token.doctype{color:rgb(199, 146, 234);font-style:'italic';}.css-1g3ft9a-PostFullContent .token.class-name{color:rgb(255, 203, 139);}.css-1g3ft9a-PostFullContent .token.tag,.css-1g3ft9a-PostFullContent .token.operator,.css-1g3ft9a-PostFullContent .token.keyword{color:#ffa7c4;}.css-1g3ft9a-PostFullContent .token.boolean{color:rgb(255, 88, 116);}.css-1g3ft9a-PostFullContent .token.property{color:rgb(128, 203, 196);}.css-1g3ft9a-PostFullContent .token.namespace{color:rgb(178, 204, 214);}.css-1g3ft9a-PostFullContent pre[data-line]{padding:1em 0 1em 3em;position:relative;}.css-1g3ft9a-PostFullContent .gatsby-highlight-code-line{background-color:hsla(207, 95%, 15%, 1);display:block;margin-right:-1.3125rem;margin-left:-1.3125rem;padding-right:1em;padding-left:1.25em;border-left:0.25em solid #ffa7c4;}.css-1g3ft9a-PostFullContent .gatsby-highlight{margin-bottom:1.75rem;margin-left:-1.3125rem;margin-right:-1.3125rem;border-radius:10px;background:#011627;-webkit-overflow-scrolling:touch;overflow:auto;}.css-1g3ft9a-PostFullContent .gatsby-highlight pre[class*='language-']{float:left;min-width:100%;}</style><section class="post-full-content css-1g3ft9a-PostFullContent eljbwj40"><h1>The SAM Pattern</h1><p>The <a href="http://sam.js.org/">SAM Pattern</a> is an alternative to more well known architecture models like a Redux architecture or <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC</a>. It goes back to <a href="https://github.com/jdubray">Jean-Jacques Dubray</a> and his blog post <a href="https://www.infoq.com/articles/no-more-mvc-frameworks/">Why I No Longer Use MVC Frameworks</a>. It is also presented and explained in the last chapter of the book <a href="https://www.springer.com/de/book/9781484231791">Front-End Reactive Architectures</a>.</p><p>I discovered this pattern during my search for a frontend architecture, which provides a clean separation of the business logic from the view. Considering Redux, you can place some business logic into the reducer. The redux style guide recommends <a href="https://redux.js.org/style-guide/style-guide#put-as-much-logic-as-possible-in-reducers">placing as much logic as possible in reducers</a>. In many cases this approach is not possible, since the reducer is a pure function that is receiving the old Redux store and the dispatched action and computes the new store out of it. Hence, the reducer can not handle an API or any other sort of asynchronous process.</p><p>It is my conviction that fronted components are the wrong place to store complex business logic, which is handling asynchronous events. In addition, the reducers of a Redux store are not capable of it. Commonly a <a href="https://redux.js.org/tutorials/fundamentals/part-4-store#middleware">Redux Middleware</a> like <a href="https://redux-observable.js.org/">Redux Observables</a>, <a href="https://github.com/reduxjs/redux-thunk">Redux Thunks</a>, <a href="https://github.com/reduxjs/redux-thunk">Redux Saga</a> or <a href="https://github.com/jeffbski/redux-logic">Redux Logic</a> is introduced to handle this. But this approach is using a heavy machinery, introduces a high level of complexity and depending on the choice of the middleware it might still lack some of my desired features like:</p><ul><li><p>Validate an action depending on its payload, the current store and side-effects before it reaches the store, and change it or prevent it from reaching the store.</p></li><li><p>Process asynchronous events after the actions have reached the store, depending on the new store value.</p></li><li><p>Dispatch other action from within the Redux Middleware.</p></li></ul><p>All of my desired features can be implemented by applying the SAM pattern. And it can be accomplished using pure JavaScript or TypeScript, we don’t even need to use React. However, I continue to use React with this approach, because of its virtual DOM and also due to its wide distribution with a lot of useful components being available.</p><h3>The reactive loop in the SAM pattern</h3><p>Following the SAM pattern architecture, an app has a <code class="language-text">view</code> which it derives out of the <code class="language-text">model</code>’s data. Compared to redux, the data consists of a mutable object. That is probably the most confusing part of the SAM pattern for me, and appears to be a drawback, compared to a Redux architecture, where we are always dealing with immutable objects.</p><p>The cycle of interaction and re-rendering of the App is called the reactive loop. It summarizes in the following steps:</p><ol><li><p>A user interaction in the <em>UI</em> triggers the dispatch of an <code class="language-text">action</code>, passing an <code class="language-text">intent</code> to it.</p></li><li><p>The <code class="language-text">action</code> is a function that processes this <code class="language-text">intent</code>, during which it can perform asynchronous computations. Finally, it presents a <code class="language-text">proposal</code> to the <code class="language-text">present</code> function, which is part of the <code class="language-text">model</code>.</p></li><li><p>The <code class="language-text">present</code> function of the model is processing the <code class="language-text">proposal</code> and is accepting or rejecting it. It involves the <code class="language-text">state</code> in this procedure. While the state in Redux is the place that keeps the data, the <code class="language-text">state</code> in the SAM pattern is an object containing pure functions, which depends on the model’s data, and the data submitted by the proposal. While the model stores the values of the app and evaluates the actions, the state defines the semantics, under which the <code class="language-text">model</code> processes the actions.</p></li><li><p>After updating the model’s data, the <code class="language-text">process</code> function of the model calls the <code class="language-text">render</code> function, which is a part of the <code class="language-text">state</code> object. The render function comprises two distinct function calls:</p></li><li><p><code class="language-text">stateRepresentation</code></p></li><li><p><code class="language-text">nap</code></p></li><li><p><code class="language-text">stateRepresentation</code> receives the <code class="language-text">model</code>’s data and computes the next <code class="language-text">view</code>. Then it renders this <code class="language-text">view</code>, by calling the <code class="language-text">display</code> function.</p></li><li><p>The <code class="language-text">nap</code> function (=next action predicate) uses the <code class="language-text">model</code>’s data and possibly the <code class="language-text">state</code> semantics, to determine if it should perform another action. If this is the case, it triggers the dispatch of another <code class="language-text">action</code>.</p></li></ol><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:525px">
      <a class="gatsby-resp-image-link" href="/static/db5fc1d437109a296f678f0734003c78/cc15a/sam-loop.jpg" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:96.2%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAATABQDASIAAhEBAxEB/8QAGwABAAICAwAAAAAAAAAAAAAAAAUGAgMEBwj/xAAZAQACAwEAAAAAAAAAAAAAAAABBgIDBwj/2gAMAwEAAhADEAAAAfRu3pW8bHztYkcckblZBrjBIf/EABwQAAICAgMAAAAAAAAAAAAAAAIDBAUBBgASE//aAAgBAQABBQLEYfJbOmCkvPmy1G8WsuVQOzQiKVguS+IT3usCSlcdX//EACMRAAIBBQACAQUAAAAAAAAAAAEDAgQFERITACEGIjEyNEH/2gAIAQMBAT8BjRUT7L8elNdptlMisrI3i+UM7lW3nlWVKYqNwow5SNaNSwKRFJmcg6TGHLNfGyMWsiHzaIzlGLCSCwCWBMjeeNhg42ljONj9/Iud+v1bwBDQnpLkG/j05506a/TvjbX1nHkgNj6/p8//xAAkEQABAwQCAAcAAAAAAAAAAAABAgMRBAUSEwAhBiMxUWFxgf/aAAgBAgEBPwFu5sU/ih+3V9zuO+9IZRZrZV01ILfNspHKivXblIbU+6oocLtYupWgeUhpmSACEIgQgD4xiPyBH1zW3O7WjdBRtxTtw6VjnGWM94zE98knsmSeyT2ST6kn3PP/xAAnEAACAQMDBAEFAQAAAAAAAAABAgMEERIAEyEFFCIxQRUWJDJRsf/aAAgBAQAGPwJpcycBFujFRhvC8eN5VaS4/Zgtoz7uNYQVjglmt+PaOxXk5Nkyk2x9Y+jq7SEm1vSD/FGqL7Q6p02kTtFSogqmXcecEDMDs6ohVjsh5UAjkfJoaDrtUW6ntU/1KrpRTvB3VOE7omCpp9l1y3PCWKIBsZSsZjQGNKedaqBY0WKdHEgljVQqtuDh2IHk63VmuVNtb9O+3KOA1lbg2+HDL8AjjggEcjUstbLJUSVV+4d2N5dwYve1va/y39HOo4YgQiLwCzufLyYs7szuzMxJZ2LEnk6//8QAGxABAQEBAQEBAQAAAAAAAAAAAREhADFBUWH/2gAIAQEAAT8h/PJEqUjGPtw+9qZFDQI8CWcA2cgCg0wNYmoV9L/eEjKg3tbetydTpniOg+E6hOP4EqWdqN8sbKsM6qZZZlSWmuKYkCFoM/bxXHlbHw1wgWbbSxsXFFO//9oADAMBAAIAAwAAABCACDz/xAAaEQEAAgMBAAAAAAAAAAAAAAABESEAMVFB/9oACAEDAQE/EGiWbmubMZG+W3VljCQZKSmAipXVdYjNZNQmTcjACAAAggBQDgFB4Vn/xAAZEQEBAQEBAQAAAAAAAAAAAAABEQAhMWH/2gAIAQIBAT8QhMSV2HvVBAzvJPCIv4WiPFAjxDJkiBEgJExJD4pFBylctQUFQqoqqqqq3f/EABkQAQEBAQEBAAAAAAAAAAAAAAERACExQf/aAAgBAQABPxBCQtJljZgglj8ctMYsSzs/mQqAZZgjBEmaJS1FAAnoKPYd6SgCyjeRZwd76jYWPEwDVhAyUCE4/SJKqXSZMt20wq5UttrppQQglS+ZKFIA7ITv/9k=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image" alt="sam-loop.jpg" title="sam-loop.jpg" src="/static/db5fc1d437109a296f678f0734003c78/cc15a/sam-loop.jpg" srcSet="/static/db5fc1d437109a296f678f0734003c78/953fe/sam-loop.jpg 500w,/static/db5fc1d437109a296f678f0734003c78/cc15a/sam-loop.jpg 525w" sizes="(max-width: 525px) 100vw, 525px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
  </a>
    </span><em>The reactive loop in the SAM pattern</em></p><h2>A sample implementation SAM for a browser game</h2><h3>Towers of Hanoi</h3><p>I picked the <a href="https://en.wikipedia.org/wiki/Tower_of_Hanoi">Towers of Hanoi</a> as a sample application to implement, while following the SAM pattern. To improve its usability, I implement the user interaction with drag and drop. Since I want to focus on implementing the SAM pattern, I use an external library for the drag-and-drop interaction, which is <a href="https://www.npmjs.com/package/react-dnd">react-dnd</a>.</p><p>Here is the result of game whcih I implemented using SAM, please try the game by yourself and think about the possible states the app could obtain, as well as about the possible set of actions which could be triggered:</p><iframe src="https://blissful-gates-e99ed8.netlify.app/" style="width:100%;height:400px"></iframe><h3>Implementation following the SAM pattern</h3><p>When you try the Hanoi game above, you realize is the app can be in three fundamentally different states, displaying non-related screen:</p><ol><li><p>The initial screen.</p></li><li><p>The screen while playing the game.</p></li><li><p>The screen which is shown once the game is solved.</p></li></ol><p>Hence the app carries a global state, which allows to assign it to one of those three states:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">Status</span> <span class="token operator">=</span> <span class="token string">&#x27;INIT&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;PLAYING&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;SOLVED&#x27;</span><span class="token punctuation">;</span></code></pre></div><p>The iterations are:</p><ol><li>On the start screen:</li></ol><ul><li><p>Change the number of tiles</p></li><li><p>Start the game</p></li></ul><ol start="2"><li>While playing:</li></ol><ul><li><p>Move a tile from one tower to another tower</p></li><li><p>Solve the game</p></li></ul><ol start="3"><li>When solved:</li></ol><ul><li>Reset the game</li></ul><p>This reflects the following intent types:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">IntentType</span> <span class="token operator">=</span> <span class="token string">&#x27;TILES&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;START&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;DROP&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;SOLVE&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;RESET&#x27;</span><span class="token punctuation">;</span></code></pre></div><p>Check out the <a href="https://github.com/achimcc/sam-hanoi">SAM Hanoi Repo</a> on my Github account to access the full source code of the app. While I don’t want to explain every detail, I still want to remark on the most crucial parts:</p><p>While I visualize the reactive loop of the SAM pattern in a flowchart, I follow the naming conventions of the directories and function/parameter names in my code:</p><div class="mermaid" data-processed="true"><svg id="mermaid-1639147426954" width="100%" xmlns="http://www.w3.org/2000/svg" xmlnsXLink="http://www.w3.org/1999/xlink" height="1102" style="max-width:361.43359375px" viewBox="0 0 361.43359375 1102"><style>#mermaid-1639147426954{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;fill:#000000;}#mermaid-1639147426954 .error-icon{fill:#552222;}#mermaid-1639147426954 .error-text{fill:#552222;stroke:#552222;}#mermaid-1639147426954 .edge-thickness-normal{stroke-width:2px;}#mermaid-1639147426954 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1639147426954 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1639147426954 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1639147426954 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1639147426954 .marker{fill:#666;}#mermaid-1639147426954 .marker.cross{stroke:#666;}#mermaid-1639147426954 svg{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:16px;}#mermaid-1639147426954 .label{font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;color:#000000;}#mermaid-1639147426954 .label text{fill:#000000;}#mermaid-1639147426954 .node rect,#mermaid-1639147426954 .node circle,#mermaid-1639147426954 .node ellipse,#mermaid-1639147426954 .node polygon,#mermaid-1639147426954 .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-1639147426954 .node .label{text-align:center;}#mermaid-1639147426954 .node.clickable{cursor:pointer;}#mermaid-1639147426954 .arrowheadPath{fill:#333333;}#mermaid-1639147426954 .edgePath .path{stroke:#666;stroke-width:1.5px;}#mermaid-1639147426954 .flowchart-link{stroke:#666;fill:none;}#mermaid-1639147426954 .edgeLabel{background-color:white;text-align:center;}#mermaid-1639147426954 .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-1639147426954 .cluster rect{fill:hsl(210,66.6666666667%,95%);stroke:#26a;stroke-width:1px;}#mermaid-1639147426954 .cluster text{fill:#333;}#mermaid-1639147426954 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;font-size:12px;background:hsl(-160,0%,93.3333333333%);border:1px solid #26a;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1639147426954:root{--mermaid-font-family:&quot;trebuchet ms&quot;,verdana,arial,sans-serif;}#mermaid-1639147426954 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"><g class="cluster" id="flowchart-View-46" transform="translate(193.99609375,158)" style="opacity:1"><rect width="318.875" height="300" x="-159.4375" y="-150"></rect><g class="label" transform="translate(0, -136)" id="mermaid-1639147426954Text"><g transform="translate(-17.1953125,-9)"><foreignObject width="34.390625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">View</div></foreignObject></g></g></g><g class="cluster" id="flowchart-Model-47" transform="translate(152.56640625,944)" style="opacity:1"><rect width="289.1328125" height="300" x="-144.56640625" y="-150"></rect><g class="label" transform="translate(0, -136)" id="mermaid-1639147426954Text"><g transform="translate(-21.7890625,-9)"><foreignObject width="43.578125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Model</div></foreignObject></g></g></g><g class="cluster" id="flowchart-Actions-48" transform="translate(127.974609375,629)" style="opacity:1"><rect width="221.71484375" height="194" x="-110.857421875" y="-97"></rect><g class="label" transform="translate(0, -83)" id="mermaid-1639147426954Text"><g transform="translate(-26.234375,-9)"><foreignObject width="52.46875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Actions</div></foreignObject></g></g></g><g class="cluster" id="flowchart-DOM-49" transform="translate(145.58984375,420)" style="opacity:1"><rect width="106" height="88" x="-53" y="-44"></rect><g class="label" transform="translate(0, -30)" id="mermaid-1639147426954Text"><g transform="translate(-18.6640625,-9)"><foreignObject width="37.328125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">DOM</div></foreignObject></g></g></g></g><g class="edgePaths"><g class="edgePath LS-A LE-B" id="L-A-B" style="opacity:1"><path class="path" d="M145.58984375,439L145.58984375,464L145.58984375,498L145.58984375,532L145.58984375,557" marker-end="url(#arrowhead159)" style="fill:none"></path><defs><marker id="arrowhead159" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-B LE-C" id="L-B-C" style="opacity:1"><path class="path" d="M124.83380011792453,595L87.69140625,629L87.69140625,663" marker-end="url(#arrowhead160)" style="fill:none"></path><defs><marker id="arrowhead160" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-C LE-E" id="L-C-E" style="opacity:1"><path class="path" d="M87.69140625,701L87.69140625,726L87.69140625,760L87.69140625,794L87.69140625,819" marker-end="url(#arrowhead161)" style="fill:none"></path><defs><marker id="arrowhead161" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-E LE-F" id="L-E-F" style="opacity:1"><path class="path" d="M87.69140625,857L87.69140625,891L136.3859817216981,925" marker-end="url(#arrowhead162)" style="fill:none"></path><defs><marker id="arrowhead162" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-F LE-G" id="L-F-G" style="opacity:1"><path class="path" d="M163.59765625,963L163.59765625,997L163.59765625,1031" marker-end="url(#arrowhead163)" style="fill:none"></path><defs><marker id="arrowhead163" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-G LE-B" id="L-G-B" style="opacity:1"><path class="path" d="M186.94921875,1036.8838383838383L257.95703125,997L257.95703125,944L257.95703125,891L257.95703125,838L257.95703125,794L257.95703125,760L191.43359375,726L191.43359375,682L191.43359375,629L162.02439563679246,595" marker-end="url(#arrowhead164)" style="fill:none"></path><defs><marker id="arrowhead164" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-F LE-J" id="L-F-J" style="opacity:1"><path class="path" d="M178.12072523584905,925L204.109375,891L204.109375,838L204.109375,794L204.109375,760L285.1328125,726L285.1328125,682L285.1328125,629L285.1328125,576L285.1328125,532L285.1328125,498L285.1328125,464L285.1328125,420L285.1328125,376L285.1328125,342L285.1328125,308L285.1328125,264L285.1328125,211L285.1328125,158L285.1328125,105L235.29304245283018,71" marker-end="url(#arrowhead165)" style="fill:none"></path><defs><marker id="arrowhead165" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-J LE-K" id="L-J-K" style="opacity:1"><path class="path" d="M200.9857753537736,71L189.43359375,105L189.43359375,139" marker-end="url(#arrowhead166)" style="fill:none"></path><defs><marker id="arrowhead166" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-J LE-L" id="L-J-L" style="opacity:1"><path class="path" d="M169.55063384433961,71L101.74609375,105L101.74609375,158L101.74609375,211L129.87227299528303,245" marker-end="url(#arrowhead167)" style="fill:none"></path><defs><marker id="arrowhead167" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-K LE-L" id="L-K-L" style="opacity:1"><path class="path" d="M189.43359375,177L189.43359375,211L161.30741450471697,245" marker-end="url(#arrowhead168)" style="fill:none"></path><defs><marker id="arrowhead168" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g><g class="edgePath LS-L LE-A" id="L-L-A" style="opacity:1"><path class="path" d="M145.58984375,283L145.58984375,308L145.58984375,342L145.58984375,376L145.58984375,401" marker-end="url(#arrowhead169)" style="fill:none"></path><defs><marker id="arrowhead169" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width:1;stroke-dasharray:1, 0"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(145.58984375,498)" style="opacity:1"><g transform="translate(-26.6796875,-9)" class="label"><rect rx="0" ry="0" width="53.359375" height="18"></rect><foreignObject width="53.359375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-A-B" class="edgeLabel L-LS-A&#x27; L-LE-B">triggers</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(87.69140625,629)" style="opacity:1"><g transform="translate(-19.5703125,-9)" class="label"><rect rx="0" ry="0" width="39.140625" height="18"></rect><foreignObject width="39.140625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-B-C" class="edgeLabel L-LS-B&#x27; L-LE-C">intent</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(87.69140625,760)" style="opacity:1"><g transform="translate(-30.6875,-9)" class="label"><rect rx="0" ry="0" width="61.375" height="18"></rect><foreignObject width="61.375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-C-E" class="edgeLabel L-LS-C&#x27; L-LE-E">proposal</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(87.69140625,891)" style="opacity:1"><g transform="translate(-39.5859375,-9)" class="label"><rect rx="0" ry="0" width="79.171875" height="18"></rect><foreignObject width="79.171875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-E-F" class="edgeLabel L-LS-E&#x27; L-LE-F">model.data</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(163.59765625,997)" style="opacity:1"><g transform="translate(-26.6796875,-9)" class="label"><rect rx="0" ry="0" width="53.359375" height="18"></rect><foreignObject width="53.359375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-F-G" class="edgeLabel L-LS-F&#x27; L-LE-G">triggers</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity:1"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-G-B" class="edgeLabel L-LS-G&#x27; L-LE-B"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(285.1328125,498)" style="opacity:1"><g transform="translate(-39.5859375,-9)" class="label"><rect rx="0" ry="0" width="79.171875" height="18"></rect><foreignObject width="79.171875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-F-J" class="edgeLabel L-LS-F&#x27; L-LE-J">model.data</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(189.43359375,105)" style="opacity:1"><g transform="translate(-39.5859375,-9)" class="label"><rect rx="0" ry="0" width="79.171875" height="18"></rect><foreignObject width="79.171875" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-J-K" class="edgeLabel L-LS-J&#x27; L-LE-K">model.data</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(101.74609375,158)" style="opacity:1"><g transform="translate(-26.6796875,-9)" class="label"><rect rx="0" ry="0" width="53.359375" height="18"></rect><foreignObject width="53.359375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-J-L" class="edgeLabel L-LS-J&#x27; L-LE-L">triggers</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(189.43359375,211)" style="opacity:1"><g transform="translate(-60.4765625,-9)" class="label"><rect rx="0" ry="0" width="120.953125" height="18"></rect><foreignObject width="120.953125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-K-L" class="edgeLabel L-LS-K&#x27; L-LE-L">JSX components</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(145.58984375,342)" style="opacity:1"><g transform="translate(-39.5703125,-9)" class="label"><rect rx="0" ry="0" width="79.140625" height="18"></rect><foreignObject width="79.140625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span id="L-L-L-A" class="edgeLabel L-LS-L&#x27; L-LE-A">injects JSX</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-J-37" transform="translate(207.44140625,52)" style="opacity:1"><rect rx="0" ry="0" x="-81.6015625" y="-19" width="163.203125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-71.6015625,-9)"><foreignObject width="143.203125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">stateRepresentation</div></foreignObject></g></g></g><g class="node default" id="flowchart-K-39" transform="translate(189.43359375,158)" style="opacity:1"><rect rx="0" ry="0" x="-26.0078125" y="-19" width="52.015625" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-16.0078125,-9)"><foreignObject width="32.015625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">view</div></foreignObject></g></g></g><g class="node default" id="flowchart-L-41" transform="translate(145.58984375,264)" style="opacity:1"><rect rx="0" ry="0" x="-34.90625" y="-19" width="69.8125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-24.90625,-9)"><foreignObject width="49.8125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">display</div></foreignObject></g></g></g><g class="node default" id="flowchart-E-29" transform="translate(87.69140625,838)" style="opacity:1"><rect rx="0" ry="0" x="-36.6875" y="-19" width="73.375" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-26.6875,-9)"><foreignObject width="53.375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">present</div></foreignObject></g></g></g><g class="node default" id="flowchart-F-31" transform="translate(163.59765625,944)" style="opacity:1"><rect rx="0" ry="0" x="-52.6953125" y="-19" width="105.390625" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-42.6953125,-9)"><foreignObject width="85.390625" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">state.render</div></foreignObject></g></g></g><g class="node default" id="flowchart-G-33" transform="translate(163.59765625,1050)" style="opacity:1"><rect rx="0" ry="0" x="-23.3515625" y="-19" width="46.703125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13.3515625,-9)"><foreignObject width="26.703125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">nap</div></foreignObject></g></g></g><g class="node default" id="flowchart-B-25" transform="translate(145.58984375,576)" style="opacity:1"><rect rx="5" ry="5" x="-39.796875" y="-19" width="79.59375" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-29.796875,-9)"><foreignObject width="59.59375" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">dispatch</div></foreignObject></g></g></g><g class="node default" id="flowchart-C-27" transform="translate(87.69140625,682)" style="opacity:1"><rect rx="5" ry="5" x="-31.3515625" y="-19" width="62.703125" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-21.3515625,-9)"><foreignObject width="42.703125" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">action</div></foreignObject></g></g></g><g class="node default" id="flowchart-A-23" transform="translate(145.58984375,420)" style="opacity:1"><rect rx="0" ry="0" x="-18" y="-19" width="36" height="38" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-8,-9)"><foreignObject width="16" height="18"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">UI</div></foreignObject></g></g></g></g></g></g></svg></div><h4>The model</h4><p>The model persists the data in a mutable object that is updated by the <code class="language-text">model</code>s render function. Specifically, the typization of <code class="language-text">model.data</code> reads as:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript">
<span class="token keyword">type</span>  <span class="token class-name">LessThan<span class="token operator">&lt;</span><span class="token constant">N</span>  <span class="token keyword">extends</span>  <span class="token builtin">number</span> <span class="token operator">|</span> bigint<span class="token operator">&gt;</span></span> <span class="token operator">=</span> intrinsic



<span class="token keyword">type</span>  <span class="token class-name">TileId</span> <span class="token operator">=</span> LessThan<span class="token operator">&lt;</span><span class="token number">10</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>



<span class="token keyword">type</span>  <span class="token class-name">Presenter</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

<span class="token punctuation">(</span>data<span class="token operator">:</span> Data<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>



<span class="token keyword">interface</span>  <span class="token class-name">TowerData</span> <span class="token punctuation">{</span>

<span class="token constant">LEFT</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>TileId<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token constant">MIDDLE</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>TileId<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token constant">RIGHT</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>TileId<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>



<span class="token keyword">interface</span>  <span class="token class-name">Model</span> <span class="token punctuation">{</span>

data<span class="token operator">:</span> <span class="token punctuation">{</span>towers<span class="token operator">:</span> Towers<span class="token punctuation">,</span> nrTiles<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> status<span class="token operator">:</span> Status<span class="token punctuation">,</span> count<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

present<span class="token operator">:</span> Presenter<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Here the <code class="language-text">present</code> function from the <code class="language-text">model</code> is processing the actions proposal’s and updating the models data accordingly:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> state <span class="token keyword">from</span> <span class="token string">&#x27;./state&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">defaultTowers</span> <span class="token operator">=</span> <span class="token punctuation">(</span>tiles<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token constant">LEFT</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span>tiles<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token constant">MIDDLE</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token constant">RIGHT</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token keyword">as</span> TowerData<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> model<span class="token operator">:</span> Model <span class="token operator">=</span> <span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span> towers<span class="token operator">:</span> <span class="token function">defaultTowers</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nrTiles<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> status<span class="token operator">:</span> <span class="token string">&#x27;INIT&#x27;</span><span class="token punctuation">,</span> count<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">present</span><span class="token operator">:</span> <span class="token punctuation">(</span>intent<span class="token operator">:</span> Intent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>intent<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&#x27;INIT&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">&#x27;INIT&#x27;</span><span class="token punctuation">;</span>

        state<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">case</span> <span class="token string">&#x27;TILES&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>

        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>nrTiles <span class="token operator">=</span> intent<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>nrTiles<span class="token punctuation">;</span>

        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">case</span> <span class="token string">&#x27;START&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>

        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>towers <span class="token operator">=</span> <span class="token function">defaultTowers</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>nrTiles<span class="token punctuation">)</span><span class="token punctuation">;</span>

        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">&#x27;PLAYING&#x27;</span><span class="token punctuation">;</span>

        state<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">case</span> <span class="token string">&#x27;DROP&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> tower<span class="token punctuation">,</span> tileId <span class="token punctuation">}</span> <span class="token operator">=</span> intent<span class="token punctuation">.</span>payload<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">.</span><span class="token function">canDrop</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> tileId<span class="token punctuation">,</span> tower<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> towerId <span class="token keyword">in</span> model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>towers<span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>towers<span class="token punctuation">[</span>towerId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>tileId<span class="token punctuation">)</span><span class="token punctuation">)</span> model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>towers<span class="token punctuation">[</span>towerId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>towers<span class="token punctuation">[</span>tower<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>tileId<span class="token punctuation">)</span><span class="token punctuation">;</span>

        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>

        state<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">case</span> <span class="token string">&#x27;SOLVE&#x27;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>state<span class="token punctuation">.</span><span class="token function">isSolved</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>

        model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token string">&#x27;SOLVED&#x27;</span><span class="token punctuation">;</span>

        state<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> model<span class="token punctuation">;</span></code></pre></div><h4>The state</h4><p>Subsequently the <code class="language-text">state</code> defines the semantics of the <code class="language-text">model</code>, it tells the <code class="language-text">model&#x27;</code>s present function, how to interpret the data. It is using pure functions which evaluate the <code class="language-text">model&#x27;</code>s data:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> stateRepresentation <span class="token keyword">from</span> <span class="token string">&#x27;../View/stateRepresentation&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> nap <span class="token keyword">from</span> <span class="token string">&#x27;./nap&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> state<span class="token operator">:</span> State <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#x27;INIT&#x27;</span><span class="token punctuation">,</span>

  <span class="token function-variable function">ready</span><span class="token operator">:</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#x27;INIT&#x27;</span> <span class="token operator">&amp;&amp;</span> model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>nrTiles <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">,</span>

  <span class="token function-variable function">canDrop</span><span class="token operator">:</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">,</span> tileId<span class="token operator">:</span> TileId<span class="token punctuation">,</span> tower<span class="token operator">:</span> TowerType<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>towers<span class="token punctuation">[</span>tower<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> tileId<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">isSolved</span><span class="token operator">:</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#x27;PLAYING&#x27;</span> <span class="token operator">&amp;&amp;</span> model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>towers<span class="token punctuation">[</span><span class="token string">&#x27;RIGHT&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">===</span> model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>nrTiles
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">stateRepresentation</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">nap</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> state<span class="token punctuation">;</span></code></pre></div><h4>The view as a result of the model</h4><p>Eventually, the model derives the <code class="language-text">stateRepresentation</code> in a declarative way from its data:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> view <span class="token keyword">from</span> <span class="token string">&#x27;./view&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> display <span class="token keyword">from</span> <span class="token string">&#x27;./display&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">stateRepresentation</span> <span class="token operator">=</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> representation <span class="token operator">=</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span> Playing<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  <span class="token keyword">switch</span> <span class="token punctuation">(</span>model<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#x27;INIT&#x27;</span><span class="token operator">:</span>
      representation <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">break</span><span class="token punctuation">;</span>

    <span class="token keyword">case</span> <span class="token string">&#x27;PLAYING&#x27;</span><span class="token operator">:</span>
      representation <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">playing</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">break</span><span class="token punctuation">;</span>

    <span class="token keyword">case</span> <span class="token string">&#x27;SOLVED&#x27;</span><span class="token operator">:</span>
      representation <span class="token operator">=</span> view<span class="token punctuation">.</span><span class="token function">solved</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">display</span><span class="token punctuation">(</span>representation<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> stateRepresentation<span class="token punctuation">;</span></code></pre></div><p>In this step, the <code class="language-text">stateRepresentation</code> implements different views, which represent the different screens of the app:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Board <span class="token keyword">from</span> <span class="token string">&#x27;../../components/Board/Board&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Init <span class="token keyword">from</span> <span class="token string">&#x27;../../components/Init/Init&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Solved <span class="token keyword">from</span> <span class="token string">&#x27;../../components/Solved/Solved&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">playing</span><span class="token operator">:</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Board model<span class="token operator">=</span><span class="token punctuation">{</span>model<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>

  <span class="token function-variable function">solved</span><span class="token operator">:</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Solved model<span class="token operator">=</span><span class="token punctuation">{</span>model<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>

  <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>Init <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> view<span class="token punctuation">;</span></code></pre></div><p>It contains a <code class="language-text">display</code> function which is injecting the derived representation into the DOM.</p><p>Next to this, the <code class="language-text">render</code> function executes the <code class="language-text">nap</code> function to check if any other action should be dispatched as a consequence of the updated <code class="language-text">model</code>’s data. In our case, it checks if we solved the game after each move and in this case, it sets the game’s status to ‘SOLVED’ state:</p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> dispatch <span class="token keyword">from</span> <span class="token string">&#x27;../Actions/dispatch&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> state <span class="token keyword">from</span> <span class="token string">&#x27;./state&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">nap</span> <span class="token operator">=</span> <span class="token punctuation">(</span>model<span class="token operator">:</span> Model<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">isSolved</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">&#x27;SOLVE&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> nap<span class="token punctuation">;</span></code></pre></div><p>This closes the reactive loop and finishes this sampel implementation of SAM.</p><h2>Concluding remarks</h2><p>It wanted to understand how the SAM pattern works under the hood. For this reason, I decided to implement the pattern from scratch in favor of using a framework, like <a href="https://dev.to/dagatsoin/ravioli-framework-introduction-27pm">Ravioli</a>.</p><p>However, the current version is cross-importing the components. I think in a clean implementation, I should avoid this by using dependency injection. I leave this for a later iteration of this app, and probably for another blog post.</p></section></article></div></main><style data-emotion="css dcfhc9">.css-dcfhc9{position:relative;padding:0 5vw;}</style><style data-emotion="css tu0m2y-ReadNextAside">.css-tu0m2y-ReadNextAside{border-bottom:1px solid rgba(255, 255, 255, 0.1);background:#0a0b0c;position:relative;padding:0 5vw;}.css-tu0m2y-ReadNextAside .post-card{padding-bottom:0;border-bottom:none;}.css-tu0m2y-ReadNextAside .post-card:after{display:none;}.css-tu0m2y-ReadNextAside .post-card-primary-tag{color:#fff;opacity:0.6;}.css-tu0m2y-ReadNextAside .post-card-title{color:#fff;opacity:0.8;-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-tu0m2y-ReadNextAside .post-card:hover .post-card-image{opacity:1;}.css-tu0m2y-ReadNextAside .post-card-excerpt{color:rgba(255, 255, 255, 0.6);}.css-tu0m2y-ReadNextAside .static-avatar{border-color:#000;}.css-tu0m2y-ReadNextAside .post-card-byline-content{color:rgba(255, 255, 255, 0.6);}.css-tu0m2y-ReadNextAside .post-card-byline-content a{color:rgba(255, 255, 255, 0.8);}.css-tu0m2y-ReadNextAside .author-avatar{border-color:#0a0b0c;}.css-tu0m2y-ReadNextAside .author-profile-image{background:#0a0b0c;}@media (max-width: 650px){.css-tu0m2y-ReadNextAside .post-card{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:25px;padding:25px 0 0;border-bottom:1px solid rgba(255, 255, 255, 0.1);}}</style><aside class="read-next css-tu0m2y-ReadNextAside e36ccfp1"><div class="css-y521qa"><style data-emotion="css 10eyhy3-ReadNextFeed">.css-10eyhy3-ReadNextFeed{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -25px;padding:60px 0 0 0;}</style><div class="read-next-feed css-10eyhy3-ReadNextFeed e36ccfp0"><style data-emotion="css a17d0i-ReadNextCardArticle">.css-a17d0i-ReadNextCardArticle{position:relative;-webkit-flex:0 1 326px;-ms-flex:0 1 326px;flex:0 1 326px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 25px 50px;padding:25px;background:linear-gradient(
    #1a1c20,
    #0a0b0c
  );border-radius:3px;}.css-a17d0i-ReadNextCardArticle a{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out;}.css-a17d0i-ReadNextCardArticle a:hover{-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 1170px){.css-a17d0i-ReadNextCardArticle{-webkit-flex:1 1 261px;-ms-flex:1 1 261px;flex:1 1 261px;margin-bottom:5vw;}}@media (max-width: 650px){.css-a17d0i-ReadNextCardArticle{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;margin:0 25px;padding:0;background:none;}}</style><article class="read-next-card css-a17d0i-ReadNextCardArticle elbpars4"><header class="read-next-card-header"><style data-emotion="css 3o6yyk-ReadNextCardHeaderTitle">.css-3o6yyk-ReadNextCardHeaderTitle{margin:0;color:rgba(255, 255, 255, 0.6);font-size:1.2rem;line-height:1em;font-weight:300;letter-spacing:0.4px;text-transform:uppercase;}.css-3o6yyk-ReadNextCardHeaderTitle a{color:#fff;font-weight:500;-webkit-text-decoration:none;text-decoration:none;opacity:0.8;}.css-3o6yyk-ReadNextCardHeaderTitle a:hover{opacity:1;}</style><h3 class="css-3o6yyk-ReadNextCardHeaderTitle elbpars3"><span>More in</span> <a href="/categories/coding/">Coding</a></h3></header><style data-emotion="css 1lsyuwe-ReadNextCardContent">.css-1lsyuwe-ReadNextCardContent{font-size:1.7rem;}.css-1lsyuwe-ReadNextCardContent ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0;padding:0;list-style:none;}.css-1lsyuwe-ReadNextCardContent li{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin:0;padding:20px 0;border-bottom:rgba(255, 255, 255, 0.1);}.css-1lsyuwe-ReadNextCardContent li:last-of-type{padding-bottom:5px;border:none;}.css-1lsyuwe-ReadNextCardContent h4{margin:0;font-size:1.6rem;line-height:1.35em;font-weight:600;}.css-1lsyuwe-ReadNextCardContent li a{display:block;color:#fff;opacity:0.8;}.css-1lsyuwe-ReadNextCardContent li a:hover{opacity:1;}</style><div class="read-next-card-content css-1lsyuwe-ReadNextCardContent elbpars2"><ul><li><h4><a aria-current="page" class="" href="/sam-pattern">The SAM pattern</a></h4><style data-emotion="css 1stohh7-ReadNextCardMeta">.css-1stohh7-ReadNextCardMeta{margin-top:2px;font-size:1.2rem;line-height:1.4em;font-weight:400;}.css-1stohh7-ReadNextCardMeta p{margin:0;color:rgba(255, 255, 255, 0.6);}</style><div class="read-next-card-meta css-1stohh7-ReadNextCardMeta elbpars1"><p><time dateTime="2021-04-12">12 Apr 2021</time> - <!-- -->4<!-- --> min read</p></div></li><li><h4><a href="/drag-and-drop-rxjs">Taming asynchronicity with RxJs</a></h4><div class="read-next-card-meta css-1stohh7-ReadNextCardMeta elbpars1"><p><time dateTime="2021-01-16">16 Jan 2021</time> - <!-- -->4<!-- --> min read</p></div></li><li><h4><a href="/debugging-the-gender-gap">Debugging the Gender Gap</a></h4><div class="read-next-card-meta css-1stohh7-ReadNextCardMeta elbpars1"><p><time dateTime="2021-01-08">08 Jan 2021</time> - <!-- -->2<!-- --> min read</p></div></li></ul></div><style data-emotion="css tqszcd-ReadNextCardFooter">.css-tqszcd-ReadNextCardFooter{position:relative;margin:40px 0 5px;}.css-tqszcd-ReadNextCardFooter a{padding:7px 12px 8px 14px;border:1px solid rgba(255, 255, 255, 0.6);color:rgba(255, 255, 255, 0.6);font-size:1.3rem;border-radius:999px;-webkit-transition:all 0.35s ease-in-out;transition:all 0.35s ease-in-out;}.css-tqszcd-ReadNextCardFooter a:hover{border-color:#fecd35;color:#fecd35;-webkit-text-decoration:none;text-decoration:none;}</style><footer class="read-next-card-footer css-tqszcd-ReadNextCardFooter elbpars0"><a href="/categories/coding/">See all 9 posts<!-- --> →</a></footer></article><style data-emotion="css 1aiulzc">.css-1aiulzc{position:relative;-webkit-flex:1 1 301px;-ms-flex:1 1 301px;flex:1 1 301px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow:hidden;margin:0 0 40px;padding:0 20px 40px;min-height:220px;-webkit-background-size:cover;background-size:cover;}</style><article class="post-card   css-1aiulzc"><style data-emotion="css c0hj8a">.css-c0hj8a{position:relative;display:block;overflow:hidden;border-radius:5px 5px 0 0;}</style><a class="post-card-image-link css-c0hj8a" href="/drag-and-drop-rxjs"><style data-emotion="css 17sr5a4-PostCardImage">.css-17sr5a4-PostCardImage{width:auto;height:200px;background:#c5d2d9 no-repeat center center;-webkit-background-size:cover;background-size:cover;}@media (prefers-color-scheme: dark){.css-17sr5a4-PostCardImage{background:#191b1f;}}</style><div class="post-card-image css-17sr5a4-PostCardImage etv348i7"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:66.66666666666667%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQHBv/EABUBAQEAAAAAAAAAAAAAAAAAAAUH/9oADAMBAAIQAxAAAAFdScYyB1+kEsEi/wD/xAAbEAACAgMBAAAAAAAAAAAAAAAEBQIDAAEGEv/aAAgBAQABBQIPzOF5IheNzecIOW2HMEfSnWpWBe72s//EACARAAMBAQABBAMAAAAAAAAAAAECAwQFFAAGERITFUL/2gAIAQMBAT8Bwb2ydXen7LPDoVB6XQj4VaOvPuqZBTP+Oa5Tu07EouljqUVlKtmWVhlez+5vHYwl08sZS+JynbE+iqTUAIK3py7vWn1ALu1qEt/R9f/EACARAAMBAQEAAAcAAAAAAAAAAAIDBAEFEQAGEhMUIjH/2gAIAQIBAT8B35fHo8qF7ZD1HNGnjIcjou3277a8GZjaCHoVR5FblE5v0ChupBOFUlTqQg4qmxoY/OkbiD1xflGjNb7+/iYurJIscL3BGeVCsHM+lY/z4//EACIQAAICAgMAAgMBAAAAAAAAAAIDAQQFEhETFCMkACEiM//aAAgBAQAGPwK4y6scbjVTkbVKhtjsvlHMuvA1KYUJEKck7ptN2QAqPTo1J3M466hKnlSSFt33WtliK7lscw60yLt0sn0OqkztaHwWTk9I/GWQrRf9Hyssrx1xK2N2ITlaauUStI/z/jtZJU8h6miI64LP2rpfFcrYKtRrJTVWNO1V9171NUMFeZcN+rGuGGxCViLOrdRsykfb6KNlw1WQusgfbkX1SBIUF1VIGJgWEK1dRcSC1JjWRG0i5cxodcDNau7lW+xMNkfoC2YTJI5Pc5PkpOeYgf/EABgQAQEBAQEAAAAAAAAAAAAAAAERADEh/9oACAEBAAE/IeCY5QKD0MgoZ6SZZ7x5qFLPzCz3a14nlpTEGkpHmmleT1Lh7cGTs5B9H29fFLISdK9Yuloli//aAAwDAQACAAMAAAAQdP8A/8QAFxEBAAMAAAAAAAAAAAAAAAAAAQARQf/aAAgBAwEBPxBgQfVczRgzCQ2l4vZj5pvVy//EABYRAQEBAAAAAAAAAAAAAAAAABEBAP/aAAgBAgEBPxDdasOx4jIvkylOKBhvEwAVX//EABgQAQEBAQEAAAAAAAAAAAAAAAEAIRAR/9oACAEBAAE/EA4dGCdM0qCd+3quXBR8DEA1DNKupBNAtL0bzyVJaRRSnWx8AfFina8uUUsowkaf5qeW1//Z" alt="Taming asynchronicity with RxJs cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/2f2afcfb0b2858a5c1784593f1fddffc/0079a/marbles.jpg 930w,
/static/2f2afcfb0b2858a5c1784593f1fddffc/0ff54/marbles.jpg 1200w" sizes="(max-width: 1200px) 100vw, 1200px" /><img loading="lazy" sizes="(max-width: 1200px) 100vw, 1200px" srcset="/static/2f2afcfb0b2858a5c1784593f1fddffc/0079a/marbles.jpg 930w,
/static/2f2afcfb0b2858a5c1784593f1fddffc/0ff54/marbles.jpg 1200w" src="/static/2f2afcfb0b2858a5c1784593f1fddffc/0ff54/marbles.jpg" alt="Taming asynchronicity with RxJs cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><style data-emotion="css 15vdlun-PostCardContent">.css-15vdlun-PostCardContent{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="post-card-content css-15vdlun-PostCardContent etv348i6"><style data-emotion="css 1fjrpmt">.css-1fjrpmt{position:relative;display:block;color:#15171A;}.css-1fjrpmt:hover{-webkit-text-decoration:none;text-decoration:none;}</style><a class="post-card-content-link css-1fjrpmt" href="/drag-and-drop-rxjs"><style data-emotion="css 1o250po-PostCardHeader">.css-1o250po-PostCardHeader{margin:15px 0 0;}</style><header class="post-card-header css-1o250po-PostCardHeader etv348i0"><style data-emotion="css 149y2kv-PostCardPrimaryTag">.css-149y2kv-PostCardPrimaryTag{margin:0 0 0.2em;color:#3eb0ef;font-size:1.2rem;font-weight:500;letter-spacing:0.2px;text-transform:uppercase;}</style><div class="post-card-primary-tag css-149y2kv-PostCardPrimaryTag etv348i5">Coding</div><style data-emotion="css ff6bsf-PostCardTitle">.css-ff6bsf-PostCardTitle{margin:0 0 0.4em;line-height:1.15em;-webkit-transition:color 0.2s ease-in-out;transition:color 0.2s ease-in-out;}@media (prefers-color-scheme: dark){.css-ff6bsf-PostCardTitle{color:rgba(255, 255, 255, 0.85);}}</style><h2 class="post-card-title css-ff6bsf-PostCardTitle etv348i4">Taming asynchronicity with RxJs</h2></header><style data-emotion="css 14xduvc-PostCardExcerpt">.css-14xduvc-PostCardExcerpt{font-family:Georgia,serif;}@media (prefers-color-scheme: dark){.css-14xduvc-PostCardExcerpt{color:#90a2aa!important;}}</style><section class="post-card-excerpt css-14xduvc-PostCardExcerpt etv348i3"><p>About asynchronous event handling with JavaScript and TypeScript. I&#x27;m showcasing the potential of rxjs with a very first and simple example which implements drag and drop.</p></section></a><style data-emotion="css 2uxs6a-PostCardMeta">.css-2uxs6a-PostCardMeta{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;padding:0;}</style><footer class="post-card-meta css-2uxs6a-PostCardMeta etv348i2"><ul class="author-list css-1hsiuvg-AuthorListUl e17065270"><li class="author-list-item css-1v0tknn-AuthorListItemLi e1dih3yq1"><style data-emotion="css 1p7o5q6-AuthorNameTooltip">.css-1p7o5q6-AuthorNameTooltip{position:absolute;bottom:105%;z-index:999;display:block;padding:2px 8px;color:white;font-size:1.2rem;letter-spacing:0.2px;white-space:nowrap;background:#15171A;border-radius:3px;box-shadow:rgba(39, 44, 49, 0.08) 0 12px 26px,rgba(39, 44, 49, 0.03) 1px 3px 8px;opacity:0;-webkit-transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);transition:all 0.35s cubic-bezier(0.4, 0.01, 0.165, 0.99);-webkit-transform:translateY(6px);-moz-transform:translateY(6px);-ms-transform:translateY(6px);transform:translateY(6px);pointer-events:none;}@media (max-width: 700px){.css-1p7o5q6-AuthorNameTooltip{display:none;}}</style><div class="author-name-tooltip css-1p7o5q6-AuthorNameTooltip e1dih3yq0">Achim</div><a class="author-avatar css-1smzq71" href="/author/achim/"><div class="author-profile-image css-1kq7wgl gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAkIB//EABgBAAIDAAAAAAAAAAAAAAAAAAYHAQID/9oADAMBAAIQAxAAAAHS/G5782jGqabggEtFzKF02dmC47//xAAcEAACAwEAAwAAAAAAAAAAAAAEBQEDBgcAAhL/2gAIAQEAAQUCK7CEL5d19jK9d2cagXX6RgmFYa35FvPNCnu0URR6EWtiNUpACO//xAAkEQACAQQBBAIDAAAAAAAAAAABAgMEBRESIQATIjEGFSRBkf/aAAgBAwEBPwF7Jbau3XJK2Searjjp1t6ysNJFkkK1cEjduR3j7XlpJJGmeCH5yPj9FABF+RH2/DQel1wMcy5/vV2RfsaFdV1eKDdcDD5rJAdh6bI4Of11do41ulwVY0VVrJ1VQqgKBLgAADAAHAA9Dr//xAAlEQACAQIEBgMAAAAAAAAAAAABAgMEEQAFEiEGEyIjMUEVFmH/2gAIAQIBAT8By7iHMy9HU0MEVNBNLM9QIgY7PCO3Py2kROZzV0iWNC483T19wzGTr7LFtyxQ3J/bIRjh9m+KnOo3V59Jubr2lPSfW++2KKR2pKZmdmZoYyzFiSSQpJJJuSTuSfOP/8QAJhAAAgICAgICAQUBAAAAAAAAAgMBBBITBREAIhQhIwYxMjRhYv/aAAgBAQAGPwIqiuN5+7xujaorFmlrbXXGWQU3zuBEeuMEzdjERAR315YW7gFQiyyHUUTyFoq4p9QKWG2Xuk67NUHqKoUSXWMDiXgBd4B/yPvOadmtoP8A6iLH5RmevsZmf8nwK63WF3LJHWbWMm1tY11wTCtLmIZ3kxWsA1QUd7MhAfOKqv4m1UcKgutZad/YRyC06pqpEYD45SPyBc7t5kWs8Yiewhd5yFWUpuq1OPFyrKxNbpwZ9GQ9QQl7hI4z+3n6ecdSq5g2syNqvyNGHpGUMcEg/QwB1mAsH0IsZGfuOO+cUuztaT9jGSS7lAZK+xKJARmy2F68dY4iM+o9VadVOqvW49KkrhjCxCHWJiJMyIzn7/kZEX++f//EABoQAQEAAwEBAAAAAAAAAAAAAAERACExQVH/2gAIAQEAAT8hYZQbUR0nYyAJS2NpwbYCKH6sIHuviwPaiFEqDnEPYWTogREoAYN1eO5VBoyZktL0IgB8beeD1f4mgTFdT/QKmQhO0lB5FjTUAydAO8XQePbCCwJ//9oADAMBAAIAAwAAABBYOIP/xAAaEQEBAQEAAwAAAAAAAAAAAAABESEAMUFR/9oACAEDAQE/ENtBI52EsqxCJ4YZEFEYA3gGOsPPsIiU2pJL4BbhpnKkBG2HgYAAAADv/8QAGREBAQEBAQEAAAAAAAAAAAAAAREhADFx/9oACAECAQE/EFNzpTxgDYwrsDqpa7J2JUGNxBZE9Y/A3YCaWcKI77zcIJf5xAoKlVV7/8QAFxABAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAQABPxBWEKaKe7qYy0y+lhYiW9tbVpxYrFG0mMM4bPtuyTJ4KryConvBRhYvc5Z4/sdaBAoEyTJmd/erFMNINlstQ58pWc5nbcezPmQEWpk5jz//2Q==" alt="Achim" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/fd013/photo.jpg 200w,
/static/f0e62a5f1008caf70cef21b452bf0c33/25252/photo.jpg 400w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><img loading="lazy" sizes="(max-width: 720px) 100vw, 720px" srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/fd013/photo.jpg 200w,
/static/f0e62a5f1008caf70cef21b452bf0c33/25252/photo.jpg 400w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" src="/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg" alt="Achim" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><style data-emotion="css ri5wqq-PostCardBylineContent">.css-ri5wqq-PostCardBylineContent{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:4px 0 0 10px;color:#90a2aa;font-size:1.2rem;line-height:1.4em;font-weight:400;letter-spacing:0.2px;text-transform:uppercase;}.css-ri5wqq-PostCardBylineContent span{margin:0;}.css-ri5wqq-PostCardBylineContent a{color:#434952;font-weight:600;}@media (prefers-color-scheme: dark){.css-ri5wqq-PostCardBylineContent a{color:rgba(255, 255, 255, 0.75);}}</style><div class="post-card-byline-content css-ri5wqq-PostCardBylineContent etv348i1"><span><a href="/author/achim/">Achim</a></span><span class="post-card-byline-date"><time dateTime="2021-01-16">16 Jan 2021</time> <span class="bull">•</span> <!-- -->4<!-- --> min read</span></div></footer></div></article><article class="post-card   css-1aiulzc"><a class="post-card-image-link css-c0hj8a" href="/cryptopunk-bug"><div class="post-card-image css-17sr5a4-PostCardImage etv348i7"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden;height:100%"><div aria-hidden="true" style="width:100%;padding-bottom:150%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAeABQDASIAAhEBAxEB/8QAGgAAAgIDAAAAAAAAAAAAAAAAAAkICgQGB//EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAZoSFWpuo3oxAqNMlVJ2AsslZ8P/xAAdEAACAgMBAQEAAAAAAAAAAAAFBgQHAQIDAAgW/9oACAEBAAEFAmd03bKvqybqUUc+SGALEUajsjvztTOfTz0kdL+fAMH9ORf00Z3OQeWwhXZNAS+WtftGn//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EACQQAAIDAAEDBAMBAAAAAAAAAAIDAQQFEgYREwAUFSIHECEy/9oACAEBAAY/Asvqml0yzQszpa2ZqZ1bQ4jgXK9bXyb9uxeFEtmhXeoSmRRzaq1WhgdpKYDXGt7EdbY3r8UZcu06ny1H1yTZurKRuu8lY2e57DzUah4xw/X5T6Ru6RIr71T5PJVXBpF59au3F0FoPxycS67npazyoWAQ7yNOJfHbqfod02bWPu6Oxd6ZISYwKCqr72oomo4LGijQpWD+khDoatRWIjlH6KzmW3hM1a48TRHcKzrDIs+5eyPALYjxCkogobyB8xEiS/Vz8kdRazgf8SVbLVbamEUHXdXexrGVYu8Q+Su5uZkUpY8FpjnqL5xP0j1Fe51DnraSxbArNlmOBSURPOqDlxPcZ+hFBx/JkYiR7q1qT7J1XXa2KMXZH3ZOp5q7egTYX5ExVZZfB01wRMCBiGl3GJ9ZiGU5tHffoOe03uPkcPckiiPIrh5QiBbCyGCge/8Aoin1YVV6foioWsHs21fmeQsMDkYQ+uAhMj3AOJSMfyWF6//EABcQAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQEAAT8hGMhSEDo2M4yjH8oZjy5rXjKwvQxy6BJdWiyOFGt/ZM90TEIgPL3mlt4CMzNjYk95Oi+q7+Q/WEWpYii/z7rChNs7/Ml1qrT15S68vIj2jKoJKb3PWGeBO6Lkkn//2gAMAwEAAgADAAAAEHAEMP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EABsQAQEBAAIDAAAAAAAAAAAAAAEAESFBMYHh/9oACAEBAAE/ELW8CRgk3y4UU+KPlBAJXWirape1Pp3sDLhWQZ89K0vKU6g8tnlTkUJ8gQc3PPqwibfQwXbKQ2Njqw5iZ20PXVG5kBa6uTyFinFEBUJeXpLssQEh+bvEAYQntWwzC/GfMe//2Q==" alt="The Cryptopunks V1 Hack cover image" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/ac72a79462a5da9dacd5fb51af3b69a1/0079a/punk.jpg 930w,
/static/ac72a79462a5da9dacd5fb51af3b69a1/8dba1/punk.jpg 1860w,
/static/ac72a79462a5da9dacd5fb51af3b69a1/5ef64/punk.jpg 3720w,
/static/ac72a79462a5da9dacd5fb51af3b69a1/5de81/punk.jpg 4160w" sizes="(max-width: 3720px) 100vw, 3720px" /><img loading="lazy" sizes="(max-width: 3720px) 100vw, 3720px" srcset="/static/ac72a79462a5da9dacd5fb51af3b69a1/0079a/punk.jpg 930w,
/static/ac72a79462a5da9dacd5fb51af3b69a1/8dba1/punk.jpg 1860w,
/static/ac72a79462a5da9dacd5fb51af3b69a1/5ef64/punk.jpg 3720w,
/static/ac72a79462a5da9dacd5fb51af3b69a1/5de81/punk.jpg 4160w" src="/static/ac72a79462a5da9dacd5fb51af3b69a1/5ef64/punk.jpg" alt="The Cryptopunks V1 Hack cover image" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></a><div class="post-card-content css-15vdlun-PostCardContent etv348i6"><a class="post-card-content-link css-1fjrpmt" href="/cryptopunk-bug"><header class="post-card-header css-1o250po-PostCardHeader etv348i0"><div class="post-card-primary-tag css-149y2kv-PostCardPrimaryTag etv348i5">Coding</div><h2 class="post-card-title css-ff6bsf-PostCardTitle etv348i4">The Cryptopunks V1 Hack</h2></header><section class="post-card-excerpt css-14xduvc-PostCardExcerpt etv348i3"><p>I discuss here a famous Solidity exploit and to which extent this exploit would have been possible with s Smart Contract written in Paritys ink!</p></section></a><footer class="post-card-meta css-2uxs6a-PostCardMeta etv348i2"><ul class="author-list css-1hsiuvg-AuthorListUl e17065270"><li class="author-list-item css-1v0tknn-AuthorListItemLi e1dih3yq1"><div class="author-name-tooltip css-1p7o5q6-AuthorNameTooltip e1dih3yq0">Achim</div><a class="author-avatar css-1smzq71" href="/author/achim/"><div class="author-profile-image css-1kq7wgl gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:100%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAkIB//EABgBAAIDAAAAAAAAAAAAAAAAAAYHAQID/9oADAMBAAIQAxAAAAHS/G5782jGqabggEtFzKF02dmC47//xAAcEAACAwEAAwAAAAAAAAAAAAAEBQEDBgcAAhL/2gAIAQEAAQUCK7CEL5d19jK9d2cagXX6RgmFYa35FvPNCnu0URR6EWtiNUpACO//xAAkEQACAQQBBAIDAAAAAAAAAAABAgMEBRESIQATIjEGFSRBkf/aAAgBAwEBPwF7Jbau3XJK2Searjjp1t6ysNJFkkK1cEjduR3j7XlpJJGmeCH5yPj9FABF+RH2/DQel1wMcy5/vV2RfsaFdV1eKDdcDD5rJAdh6bI4Of11do41ulwVY0VVrJ1VQqgKBLgAADAAHAA9Dr//xAAlEQACAQIEBgMAAAAAAAAAAAABAgMEEQAFEiEGEyIjMUEVFmH/2gAIAQIBAT8By7iHMy9HU0MEVNBNLM9QIgY7PCO3Py2kROZzV0iWNC483T19wzGTr7LFtyxQ3J/bIRjh9m+KnOo3V59Jubr2lPSfW++2KKR2pKZmdmZoYyzFiSSQpJJJuSTuSfOP/8QAJhAAAgICAgICAQUBAAAAAAAAAgMBBBITBREAIhQhIwYxMjRhYv/aAAgBAQAGPwIqiuN5+7xujaorFmlrbXXGWQU3zuBEeuMEzdjERAR315YW7gFQiyyHUUTyFoq4p9QKWG2Xuk67NUHqKoUSXWMDiXgBd4B/yPvOadmtoP8A6iLH5RmevsZmf8nwK63WF3LJHWbWMm1tY11wTCtLmIZ3kxWsA1QUd7MhAfOKqv4m1UcKgutZad/YRyC06pqpEYD45SPyBc7t5kWs8Yiewhd5yFWUpuq1OPFyrKxNbpwZ9GQ9QQl7hI4z+3n6ecdSq5g2syNqvyNGHpGUMcEg/QwB1mAsH0IsZGfuOO+cUuztaT9jGSS7lAZK+xKJARmy2F68dY4iM+o9VadVOqvW49KkrhjCxCHWJiJMyIzn7/kZEX++f//EABoQAQEAAwEBAAAAAAAAAAAAAAERACExQVH/2gAIAQEAAT8hYZQbUR0nYyAJS2NpwbYCKH6sIHuviwPaiFEqDnEPYWTogREoAYN1eO5VBoyZktL0IgB8beeD1f4mgTFdT/QKmQhO0lB5FjTUAydAO8XQePbCCwJ//9oADAMBAAIAAwAAABBYOIP/xAAaEQEBAQEAAwAAAAAAAAAAAAABESEAMUFR/9oACAEDAQE/ENtBI52EsqxCJ4YZEFEYA3gGOsPPsIiU2pJL4BbhpnKkBG2HgYAAAADv/8QAGREBAQEBAQEAAAAAAAAAAAAAAREhADFx/9oACAECAQE/EFNzpTxgDYwrsDqpa7J2JUGNxBZE9Y/A3YCaWcKI77zcIJf5xAoKlVV7/8QAFxABAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAQABPxBWEKaKe7qYy0y+lhYiW9tbVpxYrFG0mMM4bPtuyTJ4KryConvBRhYvc5Z4/sdaBAoEyTJmd/erFMNINlstQ58pWc5nbcezPmQEWpk5jz//2Q==" alt="Achim" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1"/><noscript><picture><source srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/fd013/photo.jpg 200w,
/static/f0e62a5f1008caf70cef21b452bf0c33/25252/photo.jpg 400w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" sizes="(max-width: 720px) 100vw, 720px" /><img loading="lazy" sizes="(max-width: 720px) 100vw, 720px" srcset="/static/f0e62a5f1008caf70cef21b452bf0c33/fd013/photo.jpg 200w,
/static/f0e62a5f1008caf70cef21b452bf0c33/25252/photo.jpg 400w,
/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg 720w" src="/static/f0e62a5f1008caf70cef21b452bf0c33/94285/photo.jpg" alt="Achim" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></a></li></ul><div class="post-card-byline-content css-ri5wqq-PostCardBylineContent etv348i1"><span><a href="/author/achim/">Achim</a></span><span class="post-card-byline-date"><time dateTime="2021-12-10">10 Dec 2021</time> <span class="bull">•</span> <!-- -->2<!-- --> min read</span></div></footer></div></article></div></div></aside><style data-emotion="css 1turcvg">.css-1turcvg{position:relative;padding:0 5vw;position:relative;padding-top:20px;padding-bottom:60px;color:#fff;background:#000;}</style><footer class="css-1turcvg"><style data-emotion="css 1d3gyi8">.css-1d3gyi8{margin:0 auto;max-width:1040px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(255, 255, 255, 0.7);font-size:1.3rem;}.css-1d3gyi8 a{color:rgba(255, 255, 255, 0.7);}.css-1d3gyi8 a:hover{color:rgba(255, 255, 255, 1);-webkit-text-decoration:none;text-decoration:none;}@media (max-width: 650px){.css-1d3gyi8{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><div class="css-1d3gyi8"><section class="copyright"><a href="/">Coding Connects</a> © <!-- -->2021<!-- --> </section><style data-emotion="css zkl0z9-SiteFooterNav">.css-zkl0z9-SiteFooterNav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.css-zkl0z9-SiteFooterNav a{position:relative;margin-left:20px;}.css-zkl0z9-SiteFooterNav a:before{content:'';position:absolute;top:11px;left:-11px;display:block;width:2px;height:2px;background:#fff;border-radius:100%;}.css-zkl0z9-SiteFooterNav a:first-of-type:before{display:none;}@media (max-width: 650px){.css-zkl0z9-SiteFooterNav a:first-of-type{margin-left:0;}}</style><nav class="css-zkl0z9-SiteFooterNav e1rkqlsn0"><a href="/">Latest Posts</a><a href="mailto:codingconnects@posteo.de" target="_blank" rel="noopener noreferrer">Contact</a><a href="https://twitter.com/achimcc" target="_blank" rel="noopener noreferrer">Twitter</a><a href="/rss.xml">RSS</a></nav></div></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/sam-pattern";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-52da333f6787d76d60d6.js"],"app":["/app-c7ab5beafe45fe148ebb.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-4e998848f7259879df8d.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-0680981f11de0a142f55.js"],"component---src-templates-author-tsx":["/component---src-templates-author-tsx-ef6bb07cb7a2f4983bd2.js"],"component---src-templates-categories-tsx":["/component---src-templates-categories-tsx-5bb072649402ce2aee95.js"],"component---src-templates-index-tsx":["/component---src-templates-index-tsx-4d52d6ac6e438aedbbf4.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-823260c21c7add2b5818.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-b57aa0d3fc26413efd18.js"]};/*]]>*/</script><script src="/polyfill-52da333f6787d76d60d6.js" nomodule=""></script><script src="/component---src-templates-post-tsx-823260c21c7add2b5818.js" async=""></script><script src="/component---src-templates-author-tsx-ef6bb07cb7a2f4983bd2.js" async=""></script><script src="/commons-c2667c2b17e5a7625647.js" async=""></script><script src="/e0525e89-ca2735411f53a5737636.js" async=""></script><script src="/14cad5d5-a93eb3977eb335d3b28f.js" async=""></script><script src="/b4ffff85-c3ee66a0b5ec4c242e48.js" async=""></script><script src="/app-c7ab5beafe45fe148ebb.js" async=""></script><script src="/framework-f2d5397935be7d8d1b21.js" async=""></script><script src="/styles-1043fb1b9b9e69356781.js" async=""></script><script src="/webpack-runtime-f75e8519cac8f0594506.js" async=""></script></body></html>